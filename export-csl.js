!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function i(e){return new zt(e).init()}var a="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},r=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},n=Object.freeze({default:r,__moduleExports:r}),o=n&&r||n,l=function(e){return Object(o(e))},s=Object.freeze({default:l,__moduleExports:l}),u={}.hasOwnProperty,d=function(e,t){return u.call(e,t)},b=Object.freeze({default:d,__moduleExports:d}),p={}.toString,c=function(e){return p.call(e).slice(8,-1)},f=Object.freeze({default:c,__moduleExports:c}),g=f&&c||f,h=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==g(e)?e.split(""):Object(e)},m=Object.freeze({default:h,__moduleExports:h}),y=m&&h||m,v=function(e){return y(o(e))},x=Object.freeze({default:v,__moduleExports:v}),_=Math.ceil,k=Math.floor,w=function(e){return isNaN(e=+e)?0:(e>0?k:_)(e)},j=Object.freeze({default:w,__moduleExports:w}),O=j&&w||j,E=Math.min,z=function(e){return e>0?E(O(e),9007199254740991):0},S=Object.freeze({default:z,__moduleExports:z}),q=Math.max,I=Math.min,T=function(e,t){return e=O(e),e<0?q(e+t,0):I(e,t)},P=Object.freeze({default:T,__moduleExports:T}),R=x&&v||x,D=S&&z||S,M=P&&T||P,B=function(e){return function(t,i,a){var r,n=R(t),o=D(n.length),l=M(a,o);if(e&&i!=i){for(;o>l;)if((r=n[l++])!=r)return!0}else for(;o>l;l++)if((e||l in n)&&n[l]===i)return e||l||0;return!e&&-1}},A=Object.freeze({default:B,__moduleExports:B}),N=t(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),C=Object.freeze({default:N,__moduleExports:N}),L=C&&N||C,F=L["__core-js_shared__"]||(L["__core-js_shared__"]={}),U=function(e){return F[e]||(F[e]={})},G=Object.freeze({default:U,__moduleExports:U}),K=0,H=Math.random(),V=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++K+H).toString(36))},Z=Object.freeze({default:V,__moduleExports:V}),$=G&&U||G,W=Z&&V||Z,J=$("keys"),Y=function(e){return J[e]||(J[e]=W(e))},Q=Object.freeze({default:Y,__moduleExports:Y}),X=b&&d||b,ee=A&&B||A,te=Q&&Y||Q,ie=ee(!1),ae=te("IE_PROTO"),re=function(e,t){var i,a=R(e),r=0,n=[];for(i in a)i!=ae&&X(a,i)&&n.push(i);for(;t.length>r;)X(a,i=t[r++])&&(~ie(n,i)||n.push(i));return n},ne=Object.freeze({default:re,__moduleExports:re}),oe="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),le=Object.freeze({default:oe,__moduleExports:oe}),se=ne&&re||ne,ue=le&&oe||le,de=Object.keys||function(e){return se(e,ue)},be=Object.freeze({default:de,__moduleExports:de}),pe=t(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),ce=pe.version,fe=Object.freeze({default:pe,__moduleExports:pe,version:ce}),ge=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},he=Object.freeze({default:ge,__moduleExports:ge}),me=he&&ge||he,ye=function(e,t,i){if(me(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,a){return e.call(t,i,a)};case 3:return function(i,a,r){return e.call(t,i,a,r)}}return function(){return e.apply(t,arguments)}},ve=Object.freeze({default:ye,__moduleExports:ye}),xe=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_e=Object.freeze({default:xe,__moduleExports:xe}),ke=_e&&xe||_e,we=function(e){if(!ke(e))throw TypeError(e+" is not an object!");return e},je=Object.freeze({default:we,__moduleExports:we}),Oe=function(e){try{return!!e()}catch(e){return!0}},Ee=Object.freeze({default:Oe,__moduleExports:Oe}),ze=Ee&&Oe||Ee,Se=!ze(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),qe=Object.freeze({default:Se,__moduleExports:Se}),Ie=L.document,Te=ke(Ie)&&ke(Ie.createElement),Pe=function(e){return Te?Ie.createElement(e):{}},Re=Object.freeze({default:Pe,__moduleExports:Pe}),De=qe&&Se||qe,Me=Re&&Pe||Re,Be=!De&&!ze(function(){return 7!=Object.defineProperty(Me("div"),"a",{get:function(){return 7}}).a}),Ae=Object.freeze({default:Be,__moduleExports:Be}),Ne=function(e,t){if(!ke(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!ke(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!ke(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!ke(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")},Ce=Object.freeze({default:Ne,__moduleExports:Ne}),Le=je&&we||je,Fe=Ae&&Be||Ae,Ue=Ce&&Ne||Ce,Ge=Object.defineProperty,Ke=De?Object.defineProperty:function(e,t,i){if(Le(e),t=Ue(t,!0),Le(i),Fe)try{return Ge(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e},He={f:Ke},Ve=Object.freeze({default:He,__moduleExports:He,f:Ke}),Ze=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},$e=Object.freeze({default:Ze,__moduleExports:Ze}),We=Ve&&He||Ve,Je=$e&&Ze||$e,Ye=De?function(e,t,i){return We.f(e,t,Je(1,i))}:function(e,t,i){return e[t]=i,e},Qe=Object.freeze({default:Ye,__moduleExports:Ye}),Xe=fe&&pe||fe,et=ve&&ye||ve,tt=Qe&&Ye||Qe,it=function(e,t,i){var a,r,n,o=e&it.F,l=e&it.G,s=e&it.S,u=e&it.P,d=e&it.B,b=e&it.W,p=l?Xe:Xe[t]||(Xe[t]={}),c=p.prototype,f=l?L:s?L[t]:(L[t]||{}).prototype;l&&(i=t);for(a in i)(r=!o&&f&&void 0!==f[a])&&X(p,a)||(n=r?f[a]:i[a],p[a]=l&&"function"!=typeof f[a]?i[a]:d&&r?et(n,L):b&&f[a]==n?function(e){var t=function(t,i,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(n):u&&"function"==typeof n?et(Function.call,n):n,u&&((p.virtual||(p.virtual={}))[a]=n,e&it.R&&c&&!c[a]&&tt(c,a,n)))};it.F=1,it.G=2,it.S=4,it.P=8,it.B=16,it.W=32,it.U=64,it.R=128;var at=it,rt=Object.freeze({default:at,__moduleExports:at}),nt=rt&&at||rt,ot=function(e,t){var i=(Xe.Object||{})[e]||Object[e],a={};a[e]=t(i),nt(nt.S+nt.F*ze(function(){i(1)}),"Object",a)},lt=Object.freeze({default:ot,__moduleExports:ot}),st=s&&l||s,ut=be&&de||be;(lt&&ot||lt)("keys",function(){return function(e){return ut(st(e))}});var dt=Xe.Object.keys,bt=Object.freeze({default:dt,__moduleExports:dt}),pt=bt&&dt||bt,ct=e(t(function(e){e.exports={default:pt,__esModule:!0}})),ft=e(t(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}));nt(nt.S+nt.F*!De,"Object",{defineProperty:We.f});var gt=Xe.Object,ht=function(e,t,i){return gt.defineProperty(e,t,i)},mt=Object.freeze({default:ht,__moduleExports:ht}),yt=mt&&ht||mt,vt=t(function(e){e.exports={default:yt,__esModule:!0}}),xt=e(vt),_t=Object.freeze({default:xt,__moduleExports:vt}),kt=_t&&xt||_t,wt=e(t(function(e,t){t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(kt);t.default=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}()})),jt=["catalan","croatian","czech","danish","dutch","english","american","finnish","french","german","greek","italian","latin","norwegian","polish","portuguese","brazilian","russian","slovene","spanish","swedish"],Ot={abstract:{type:"f_long_literal",biblatex:"abstract",csl:"abstract"},addendum:{type:"f_literal",biblatex:"addendum"},afterword:{type:"l_name",biblatex:"afterword"},annotation:{type:"f_long_literal",biblatex:"annotation"},annotator:{type:"l_name",biblatex:"annotator"},author:{type:"l_name",biblatex:"author",csl:"author"},bookauthor:{type:"l_name",biblatex:"bookauthor",csl:"container-author"},bookpagination:{type:"f_key",biblatex:"bookpagination",options:["page","column","section","paragraph","verse","line"]},booksubtitle:{type:"f_title",biblatex:"booksubtitle"},booktitle:{type:"f_title",biblatex:"booktitle",csl:"container-title"},booktitleaddon:{type:"f_title",biblatex:"booktitleaddon"},chapter:{type:"f_literal",biblatex:"chapter",csl:"chapter-number"},commentator:{type:"l_name",biblatex:"commentator"},date:{type:"f_date",biblatex:"date",csl:"issued"},doi:{type:"f_verbatim",biblatex:"doi",csl:"DOI"},edition:{type:"f_integer",biblatex:"edition",csl:"edition"},editor:{type:"l_name",biblatex:"editor",csl:"editor"},editora:{type:"l_name",biblatex:"editora"},editorb:{type:"l_name",biblatex:"editorb"},editorc:{type:"l_name",biblatex:"editorc"},editortype:{type:"f_key",biblatex:"editortype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editoratype:{type:"f_key",biblatex:"editoratype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editorbtype:{type:"f_key",biblatex:"editorbtype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editorctype:{type:"f_key",biblatex:"editorctype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},eid:{type:"f_literal",biblatex:"eid"},entrysubtype:{type:"f_literal",biblatex:"entrysubtype"},eprint:{type:"f_verbatim",biblatex:"eprint"},eprintclass:{type:"f_literal",biblatex:"eprintclass"},eprinttype:{type:"f_literal",biblatex:"eprinttype"},eventdate:{type:"f_date",biblatex:"eventdate",csl:"event-date"},eventtitle:{type:"f_title",biblatex:"eventtitle",csl:"event"},file:{type:"f_verbatim",biblatex:"file"},foreword:{type:"l_name",biblatex:"foreword"},holder:{type:"l_name",biblatex:"holder"},howpublished:{type:"f_literal",biblatex:"howpublished",csl:"medium"},indextitle:{type:"f_literal",biblatex:"indextitle"},institution:{type:"l_literal",biblatex:"institution"},introduction:{type:"l_name",biblatex:"introduction"},isan:{type:"f_literal",biblatex:"isan"},isbn:{type:"f_literal",biblatex:"isbn",csl:"ISBN"},ismn:{type:"f_literal",biblatex:"ismn"},isrn:{type:"f_literal",biblatex:"isrn"},issn:{type:"f_literal",biblatex:"issn",csl:"ISSN"},issue:{type:"f_literal",biblatex:"issue",csl:"issue"},issuesubtitle:{type:"f_literal",biblatex:"issuesubtitle"},issuetitle:{type:"f_literal",biblatex:"issuetitle"},iswc:{type:"f_literal",biblatex:"iswc"},journalsubtitle:{type:"f_literal",biblatex:"journalsubtitle"},journaltitle:{type:"f_literal",biblatex:"journaltitle",csl:"container-title"},keywords:{type:"l_tag",biblatex:"keywords"},label:{type:"f_literal",biblatex:"label"},language:{type:"l_key",biblatex:"language",options:jt},langid:{type:"f_key",strict:!0,biblatex:"langid",csl:"language",options:{acadian:{csl:"fr-CA",biblatex:"acadian"},afrikaans:{csl:"af-ZA",biblatex:"afrikaans"},arabic:{csl:"ar",biblatex:"arabic"},basque:{csl:"eu",biblatex:"basque"},bulgarian:{csl:"bg-BG",biblatex:"bulgarian"},catalan:{csl:"ca-AD",biblatex:"catalan"},chinese:{csl:"zh-CN",biblatex:"pinyin"},croatian:{csl:"hr-HR",biblatex:"croatian"},czech:{csl:"cs-CZ",biblatex:"czech"},danish:{csl:"da-DK",biblatex:"danish"},dutch:{csl:"nl-NL",biblatex:"dutch"},auenglish:{csl:"en-GB",biblatex:"australian"},caenglish:{csl:"en-US",biblatex:"canadian"},nzenglish:{csl:"en-GB",biblatex:"newzealand"},ukenglish:{csl:"en-GB",biblatex:"ukenglish"},usenglish:{csl:"en-US",biblatex:"usenglish"},estonian:{csl:"et-EE",biblatex:"estonian"},finnish:{csl:"fi-FI",biblatex:"finnish"},french:{csl:"fr-FR",biblatex:"french"},cafrench:{csl:"fr-CA",biblatex:"canadien"},german:{csl:"de-DE",biblatex:"ngerman"},atgerman:{csl:"de-AT",biblatex:"naustrian"},greek:{csl:"el-GR",biblatex:"greek"},hebrew:{csl:"he-IL",biblatex:"hebrew"},hungarian:{csl:"hu-HU",biblatex:"hungarian"},icelandic:{csl:"is-IS",biblatex:"icelandic"},italian:{csl:"it-IT",biblatex:"italian"},japanese:{csl:"ja-JP",biblatex:"japanese"},latin:{csl:"la",biblatex:"latin"},latvian:{csl:"lv-LV",biblatex:"latvian"},lithuanian:{csl:"lt-LT",biblatex:"lithuanian"},magyar:{csl:"hu-HU",biblatex:"magyar"},mongolian:{csl:"mn-MN",biblatex:"mongolian"},norwegian:{csl:"nb-NO",biblatex:"norsk"},newnorwegian:{csl:"nn-NO",biblatex:"nynorsk"},farsi:{csl:"fa-IR",biblatex:"farsi"},polish:{csl:"pl-PL",biblatex:"polish"},portuguese:{csl:"pt-PT",biblatex:"portuguese"},brportuguese:{csl:"pt-BR",biblatex:"brazilian"},romanian:{csl:"ro-RO",biblatex:"romanian"},russian:{csl:"ru-RU",biblatex:"russian"},serbian:{csl:"sr-RS",biblatex:"serbian"},cyrillicserbian:{csl:"sr-RS",biblatex:"serbianc"},slovak:{csl:"sk-SK",biblatex:"slovak"},slovene:{csl:"sl-SL",biblatex:"slovene"},spanish:{csl:"es-ES",biblatex:"spanish"},swedish:{csl:"sv-SE",biblatex:"swedish"},thai:{csl:"th-TH",biblatex:"thai"},turkish:{csl:"tr-TR",biblatex:"turkish"},ukrainian:{csl:"uk-UA",biblatex:"ukrainian"},vietnamese:{csl:"vi-VN",biblatex:"vietnamese"}}},library:{type:"f_literal",biblatex:"library"},location:{type:"l_literal",biblatex:"location",csl:"publisher-place"},mainsubtitle:{type:"f_title",biblatex:"mainsubtitle"},maintitle:{type:"f_title",biblatex:"maintitle"},maintitleaddon:{type:"f_title",biblatex:"maintitleaddon"},nameaddon:{type:"f_literal",biblatex:"nameaddon"},note:{type:"f_literal",biblatex:"note",csl:"note"},number:{type:"f_literal",biblatex:"number",csl:"number"},organization:{type:"l_literal",biblatex:"organization"},origdate:{type:"f_date",biblatex:"origdate",csl:"original-date"},origlanguage:{type:"f_key",biblatex:"origlanguage",options:jt},origlocation:{type:"l_literal",biblatex:"origlocation",csl:"original-publisher-place"},origpublisher:{type:"l_literal",biblatex:"origpublisher",csl:"original-publisher"},origtitle:{type:"f_title",biblatex:"origtitle",csl:"original-title"},pages:{type:"l_range",biblatex:"pages",csl:"page"},pagetotal:{type:"f_literal",biblatex:"pagetotal",csl:"number-of-pages"},pagination:{type:"f_key",biblatex:"pagination",options:["page","column","section","paragraph","verse","line"]},part:{type:"f_literal",biblatex:"part"},publisher:{type:"l_literal",biblatex:"publisher",csl:"publisher"},pubstate:{type:"f_key",biblatex:"pubstate",csl:"status",options:{inpreparation:{csl:"in preparation",biblatex:"inpreparation"},submitted:{csl:"submitted",biblatex:"submitted"},forthcoming:{csl:"forthcoming",biblatex:"forthcoming"},inpress:{csl:"in press",biblatex:"inpress"},prepublished:{csl:"prepublished",biblatex:"prepublished"}}},reprinttitle:{type:"f_literal",biblatex:"reprinttitle"},series:{type:"f_literal",biblatex:"series",csl:"collection-title"},shortauthor:{type:"l_name",biblatex:"shortauthor"},shorteditor:{type:"l_name",biblatex:"shorteditor"},shorthand:{type:"f_literal",biblatex:"shorthand"},shorthandintro:{type:"f_literal",biblatex:"shorthandintro"},shortjournal:{type:"f_literal",biblatex:"shortjournal",csl:"container-title-short"},shortseries:{type:"f_literal",biblatex:"shortseries"},shorttitle:{type:"f_literal",biblatex:"shorttitle",csl:"title-short"},subtitle:{type:"f_title",biblatex:"subtitle"},title:{type:"f_title",biblatex:"title",csl:"title"},titleaddon:{type:"f_title",biblatex:"titleaddon"},translator:{type:"l_name",biblatex:"translator",csl:"translator"},type:{type:"f_key",biblatex:"type",options:["manual","patent","report","thesis","mathesis","phdthesis","candthesis","techreport","resreport","software","datacd","audiocd"]},url:{type:"f_uri",biblatex:"url",csl:"URL"},urldate:{type:"f_date",biblatex:"urldate",csl:"accessed"},venue:{type:"f_literal",biblatex:"venue",csl:"event-place"},version:{type:"f_literal",biblatex:"version",csl:"version"},volume:{type:"f_literal",biblatex:"volume",csl:"volume"},volumes:{type:"f_literal",biblatex:"volumes",csl:"number-of-volumes"}},Et={article:{order:1,biblatex:"article",csl:"article",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-magazine":{order:2,biblatex:"article",csl:"article-magazine",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-newspaper":{order:3,biblatex:"article",csl:"article-newspaper",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-journal":{order:4,biblatex:"article",csl:"article-journal",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"post-weblog":{order:5,biblatex:"online",csl:"post-weblog",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},book:{order:10,biblatex:"book",csl:"book",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvbook:{order:11,biblatex:"mvbook",csl:"book",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},inbook:{order:12,biblatex:"inbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},bookinbook:{order:13,biblatex:"bookinbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},suppbook:{order:14,biblatex:"suppbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},booklet:{order:15,biblatex:"booklet",csl:"pamphlet",required:["title","date"],eitheror:["editor","author"],optional:["abstract","titleaddon","addendum","pages","pagination","howpublished","type","pubstate","chapter","doi","subtitle","language","langid","location","url","urldate","pagetotal","bookpagination","note","eprint","eprintclass","eprinttype","annotation","keywords"]},collection:{order:20,biblatex:"collection",csl:"dataset",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvcollection:{order:21,biblatex:"mvcollection",csl:"dataset",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},incollection:{order:22,biblatex:"incollection",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},suppcollection:{order:23,biblatex:"suppcollection",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},post:{order:30,biblatex:"online",csl:"post",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},manual:{order:40,biblatex:"manual",csl:"book",required:["title","date"],eitheror:["editor","author"],optional:["abstract","addendum","chapter","doi","edition","eprint","eprintclass","eprinttype","isbn","language","langid","location","note","number","organization","pages","pagination","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","type","url","urldate","version","annotation","keywords"]},misc:{order:41,biblatex:"misc",csl:"entry",required:["title","date"],eitheror:["editor","author"],optional:["abstract","addendum","howpublished","type","pubstate","organization","doi","subtitle","language","langid","location","url","urldate","titleaddon","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},online:{order:42,biblatex:"online",csl:"webpage",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},patent:{order:43,biblatex:"patent",csl:"patent",required:["title","number","author","date"],eitheror:[],optional:["abstract","addendum","holder","location","pubstate","doi","subtitle","titleaddon","type","url","urldate","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},periodical:{order:50,biblatex:"periodical",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","volume","pubstate","number","series","issn","issue","issuesubtitle","issuetitle","doi","subtitle","editora","editorb","editorc","url","urldate","language","langid","note","eprint","eprintclass","eprinttype","annotation","keywords"]},suppperiodical:{order:51,biblatex:"suppperiodical",csl:"entry",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},proceedings:{order:60,biblatex:"proceedings",csl:"entry",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","chapter","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","organization","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volume","volumes","annotation","keywords"]},mvproceedings:{order:61,biblatex:"mvproceedings",csl:"entry",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","note","number","organization","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volumes","annotation","keywords"]},inproceedings:{order:62,biblatex:"inproceedings",csl:"paper-conference",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","booksubtitle","booktitleaddon","chapter","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","organization","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volume","volumes","annotation","keywords"]},reference:{order:70,biblatex:"book",csl:"reference",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvreference:{order:71,biblatex:"mvreference",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},inreference:{order:72,biblatex:"inreference",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},"entry-encyclopedia":{order:73,biblatex:"inreference",csl:"entry-encyclopedia",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},"entry-dictionary":{order:74,biblatex:"inreference",csl:"entry-dictionary",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},report:{order:80,biblatex:"report",csl:"report",required:["author","title","type","institution","date"],eitheror:[],optional:["abstract","addendum","pages","pagination","pagetotal","bookpagination","pubstate","number","isrn","chapter","doi","subtitle","language","langid","location","url","urldate","titleaddon","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},thesis:{order:81,biblatex:"thesis",csl:"thesis",required:["author","title","type","institution","date"],eitheror:[],optional:["abstract","addendum","pages","pagination","pagetotal","bookpagination","pubstate","isbn","chapter","doi","subtitle","language","langid","location","url","urldate","titleaddon","note","eprint","eprintclass","eprinttype","annotation","keywords"]},unpublished:{order:90,biblatex:"unpublished",csl:"manuscript",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","howpublished","pubstate","isbn","date","subtitle","language","langid","location","url","urldate","titleaddon","note","annotation","keywords"]}},zt=function(){function e(t){ft(this,e),this.string=t,this.type="None",this.valid=!0,this.values=[],this.uncertain=!1,this.approximate=!1,this.parts=[]}return wt(e,[{key:"init",value:function(){return this.checkCertainty(),this.splitInterval(),{type:this.type,valid:this.valid,values:"Interval"===this.type?this.getPartValues():this.values,cleanedString:this.cleanString(),uncertain:this.uncertain,approximate:this.approximate}}},{key:"getPartValues",value:function(){return 0===this.parts.length?[]:1===this.parts.length?this.parts[0].values:[this.parts[0].values,this.parts[1].values]}},{key:"cleanString",value:function(){var e="";return this.parts.length?e=this.parts.map(function(e){return e.cleanString()}).join("/"):this.values&&(e=this.values.reduce(function(e,t,i){return 0===i?"number"==typeof t&&t>0?String(t).padStart(4,"0"):String(t):i<3?e+"-"+String(t).padStart(2,"0"):3===i?e+"T"+String(t).padStart(2,"0"):i<6?e+":"+String(t).padStart(2,"0"):""+e+t},"")),this.uncertain&&(e+="?"),this.approximate&&(e+="~"),e}},{key:"checkCertainty",value:function(){"~"===this.string.slice(-1)&&(this.approximate=!0,this.string=this.string.slice(0,-1)),"?"===this.string.slice(-1)&&(this.uncertain=!0,this.string=this.string.slice(0,-1))}},{key:"splitInterval",value:function(){var t=this,i=this.string.split("/");if(i.length>2)this.valid=!1;else if(2===i.length){this.type="Interval";var a=!1;i.forEach(function(i){var r=new e(i);r.init(),r.valid||"Open"===r.type?(t.parts.push(r),r.valid&&(a=!0)):t.valid=!1}),a||(this.valid=!1)}else this.splitDateParts()}},{key:"splitDateParts",value:function(){if(["",".."].includes(this.string))return this.valid=!1,this.values=[],void(this.type="Open");var t=this.string.replace(/^y/,"").split(/(?!^)-/);if(t.length>3)return void(this.valid=!1);var i=!0,a=t[0];if(!new RegExp("^-?[0-9]*u{0,2}$").test(a))return void(this.valid=!1);if("u"===a.slice(-1)){i=!1,this.type="Interval";var r=new e(a.replace(/u/g,"0"));r.init();var n=new e(a.replace(/u/g,"9"));n.init(),this.parts=[r,n],r.valid&&n.valid||(this.valid=!1)}else this.values=[parseInt(a)],this.type="Date";if(!(t.length<2)){var o=t[1];if(!i&&"uu"!==o)return void(this.valid=!1);var l=new RegExp("^[0-2][0-9]|uu$"),s=parseInt(o.replace("uu","01"));if(!l.test(o)||s<1||s>12&&s<21||s>24)return void(this.valid=!1);if("uu"===o&&(i=!1),i&&this.values.push(s),t.length<3)return void(s>12&&(this.type="Season"));if(s>12)return void(this.valid=!1);var u=t[2].split("T"),d=u[0];if(!i&&"uu"!==d)return void(this.valid=!1);var b=new RegExp("^[0-3][0-9]$|uu"),p=parseInt(d.replace("uu","01"));if(!b.test(o)||p<1||p>31)return void(this.valid=!1);if("uu"===d&&(i=!1),i){var c=new Date(a+"/"+o+"/"+d);if(c.getFullYear()!==parseInt(a)||c.getMonth()+1!==s||c.getDate()!==p)return void(this.valid=!1);this.values.push(p)}if(!(u.length<2)){if(!i)return void(this.valid=!1);var f=u[1].slice(0,8).split(":").map(function(e){return parseInt(e)});if(3!==f.length||f[0]<0||f[0]>23||f[1]<0||f[1]>59||f[2]<0||f[2]>59)return void(this.valid=!1);if(this.values=this.values.concat(f),8!==u[1].length){var g=u[1].slice(8);if("Z"===g)return void this.values.push("Z");var h=RegExp("^[+-][0-1][0-9]:[0-1][0-9]$"),m=g.split(":").map(function(e){return parseInt(e)});if(!h.test(g)||m[0]<-11||m[0]>14||m[1]<0||m[1]>59)return void(this.valid=!1);this.values.push(g)}}}}}]),e}(),St={strong:{open:"<b>",close:"</b>"},em:{open:"<i>",close:"</i>"},sub:{open:"<sub>",close:"</sub>"},sup:{open:"<sup>",close:"</sup>"},smallcaps:{open:'<span style="font-variant:small-caps;">',close:"</span>"},nocase:{open:'<span class="nocase">',close:"</span>"},enquote:{open:"“",close:"”"},url:{open:"",close:""},undefined:{open:"[",close:"]"}},qt=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ft(this,e),this.bibDB=t,this.pks=i||ct(t),this.cslDB={},this.errors=[]}return wt(e,[{key:"getCSLEntry",value:function(e){var t=this,i=this.bibDB[e],a={};if(!i.fields||!i.bib_type||!Et[i.bib_type])return a;for(var r in i.fields)!function(e){if(""!==i.fields[e]&&e in Ot&&"csl"in Ot[e]){var r=i.fields[e],n=Ot[e].type,o=Ot[e].csl,l=void 0;switch(n){case"f_date":(l=t._reformDate(r))&&(a[o]=l);break;case"f_integer":a[o]=t._reformInteger(r);break;case"f_key":a[o]=t._reformKey(r,e);break;case"f_literal":case"f_long_literal":a[o]=t._reformText(r);break;case"l_range":a[o]=t._reformRange(r);break;case"f_title":a[o]=t._reformText(r);break;case"f_uri":case"f_verbatim":a[o]=r;break;case"l_key":a[o]=r.map(function(i){return t._reformKey(i,e)}).join(" and ");break;case"l_literal":a[o]=r.map(function(e){return t._reformText(e)}).join(", ");break;case"l_name":a[o]=t._reformName(r);break;case"l_tag":a[o]=r.join(", ");break;default:console.warn("Unrecognized field type: "+n+"!")}}}(r);return a.type=Et[i.bib_type].csl,a}},{key:"_reformKey",value:function(e,t){if("string"==typeof e){var i=Ot[t];return Array.isArray(i.options)?e:i.options[e].csl}return this._reformText(e)}},{key:"_reformRange",value:function(e){var t=this;return e.map(function(e){return e.map(function(e){return t._reformText(e)}).join("--")}).join(",")}},{key:"_reformInteger",value:function(e){var t=this._reformText(e),i=parseInt(t);return t!==String(i)?t:i}},{key:"_reformText",value:function(e){var t=this,i="",a=[];return e.forEach(function(e){if("variable"===e.type)return i+=""+St.undefined.open+e.attrs.variable+St.undefined.close,void t.errors.push({type:"undefined_variable",variable:e.attrs.variable});var r=e.marks?e.marks.map(function(e){return e.type}):[],n=!1,o=[];a.forEach(function(e,t){e!=r[t]&&(n=!0),n&&o.push(St[e].close)}),o.reverse(),i+=o.join("");var l=!1;r.forEach(function(e,t){e!=a[t]&&(l=!0),l&&(i+=St[e].open)}),i+=e.text,a=r}),a.slice().reverse().forEach(function(e){i+=St[e].close}),i}},{key:"_reformDate",value:function(e){var t=i(e),a={};if(!t.valid)return!1;if(t.values.length>1&&Array.isArray(t.values[0])&&Array.isArray(t.values[1])){var r=t.values[0],n=t.values[1],o=[r.slice(0,3).map(function(e){return parseInt(e)}),n.slice(0,3).map(function(e){return parseInt(e)})];a["date-parts"]=o}else{var l=t.values.slice(0,3).map(function(e){return parseInt(e)});a["date-parts"]=l,"Interval"===t.type&&(a.circa=!0)}return(t.uncertain||t.approximate)&&(a.circa=!0),a}},{key:"_reformName",value:function(e){var t=this;return e.map(function(e){var i={};if(e.literal){var a=t._reformText(e.literal);if(!a.length)return!1;i.literal=a}else i.given=t._reformText(e.given),i.family=t._reformText(e.family),e.suffix&&(i.suffix=t._reformText(e.suffix)),e.prefix&&(!0===e.useprefix?i["non-dropping-particle"]=t._reformText(e.prefix):i["dropping-particle"]=t._reformText(e.prefix)),i.family=t._reformText(e.family);return i}).filter(function(e){return e})}},{key:"output",get:function(){for(var e in this.bibDB)-1!==this.pks.indexOf(e)&&(this.cslDB[e]=this.getCSLEntry(e),this.cslDB[e].id=e);return this.cslDB}}]),e}();a.CSLExporter=qt}();
