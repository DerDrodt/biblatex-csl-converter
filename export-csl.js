!function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function n(t){return!(t%4>0)&&(t%100>0||!(t%400>0))}function r(){Pn=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Dn[e]=t[e],In[t.charCodeAt(e)]=e;In["-".charCodeAt(0)]=62,In["_".charCodeAt(0)]=63}function o(t){Pn||r();var e,n,o,i,s,a,l=t.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===t[l-2]?2:"="===t[l-1]?1:0,a=new Yn(3*l/4-s),o=s>0?l-4:l;var u=0;for(e=0,n=0;e<o;e+=4,n+=3)i=In[t.charCodeAt(e)]<<18|In[t.charCodeAt(e+1)]<<12|In[t.charCodeAt(e+2)]<<6|In[t.charCodeAt(e+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===s?(i=In[t.charCodeAt(e)]<<2|In[t.charCodeAt(e+1)]>>4,a[u++]=255&i):1===s&&(i=In[t.charCodeAt(e)]<<10|In[t.charCodeAt(e+1)]<<4|In[t.charCodeAt(e+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function i(t){return Dn[t>>18&63]+Dn[t>>12&63]+Dn[t>>6&63]+Dn[63&t]}function s(t,e,n){for(var r,o=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(i(r));return o.join("")}function a(t){Pn||r();for(var e,n=t.length,o=n%3,i="",a=[],l=0,u=n-o;l<u;l+=16383)a.push(s(t,l,l+16383>u?u:l+16383));return 1===o?(e=t[n-1],i+=Dn[e>>2],i+=Dn[e<<4&63],i+="=="):2===o&&(e=(t[n-2]<<8)+t[n-1],i+=Dn[e>>10],i+=Dn[e>>4&63],i+=Dn[e<<2&63],i+="="),a.push(i),a.join("")}function l(t,e,n,r,o){var i,s,a=8*o-r-1,l=(1<<a)-1,u=l>>1,c=-7,p=n?o-1:0,f=n?-1:1,m=t[e+p];for(p+=f,i=m&(1<<-c)-1,m>>=-c,c+=a;c>0;i=256*i+t[e+p],p+=f,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=256*s+t[e+p],p+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,r),i-=u}return(m?-1:1)*s*Math.pow(2,i-r)}function u(t,e,n,r,o,i){var s,a,l,u=8*i-o-1,c=(1<<u)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,d=r?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+p>=1?f/l:f*Math.pow(2,1-p))*l>=2&&(s++,l/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(e*l-1)*Math.pow(2,o),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;t[n+m]=255&a,m+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+m]=255&s,m+=d,s/=256,u-=8);t[n+m-d]|=128*h}function c(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function p(t,e){if(c()<e)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=f.prototype:(null===t&&(t=new f(e)),t.length=e),t}function f(t,e,n){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return b(this,t)}return m(this,t,e,n)}function m(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?v(t,e,n,r):"string"==typeof e?y(t,e,n):_(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,n,r){return d(e),e<=0?p(t,e):void 0!==n?"string"==typeof r?p(t,e).fill(n,r):p(t,e).fill(n):p(t,e)}function b(t,e){if(d(e),t=p(t,e<0?0:0|$(e)),!f.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function y(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!f.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(e,n),o=(t=p(t,r)).write(e,n);return o!==r&&(t=t.slice(0,o)),t}function g(t,e){var n=e.length<0?0:0|$(e.length);t=p(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function v(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),f.TYPED_ARRAY_SUPPORT?(t=e).__proto__=f.prototype:t=g(t,e),t}function _(t,e){if(x(e)){var n=0|$(e.length);return 0===(t=p(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||nt(e.length)?p(t,0):g(t,e);if("Buffer"===e.type&&Bn(e.data))return g(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function $(t){if(t>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|t}function x(t){return!(null==t||!t._isBuffer)}function w(t,e){if(x(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return tt(t).length;default:if(r)return J(t).length;e=(""+e).toLowerCase(),r=!0}}function k(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return D(this,e,n);case"ascii":return Y(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return U(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function E(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function A(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=f.from(e,r)),x(e))return 0===e.length?-1:R(t,e,n,r,o);if("number"==typeof e)return e&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):R(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function R(t,e,n,r,o){function i(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}var u;if(o){var c=-1;for(u=n;u<a;u++)if(i(t,u)===i(e,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*s}else-1!==c&&(u-=u-c),c=-1}else for(n+l>a&&(n=a-l),u=n;u>=0;u--){for(var p=!0,f=0;f<l;f++)if(i(t,u+f)!==i(e,f)){p=!1;break}if(p)return u}return-1}function L(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function S(t,e,n,r){return et(J(e,t.length-n),t,n,r)}function T(t,e,n,r){return et(K(e),t,n,r)}function j(t,e,n,r){return T(t,e,n,r)}function O(t,e,n,r){return et(tt(e),t,n,r)}function C(t,e,n,r){return et(Q(e,t.length-n),t,n,r)}function U(t,e,n){return a(0===e&&n===t.length?t:t.slice(e,n))}function D(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=n){var l,u,c,p;switch(a){case 1:i<128&&(s=i);break;case 2:128==(192&(l=t[o+1]))&&(p=(31&i)<<6|63&l)>127&&(s=p);break;case 3:l=t[o+1],u=t[o+2],128==(192&l)&&128==(192&u)&&(p=(15&i)<<12|(63&l)<<6|63&u)>2047&&(p<55296||p>57343)&&(s=p);break;case 4:l=t[o+1],u=t[o+2],c=t[o+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(p=(15&i)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&p<1114112&&(s=p)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),o+=a}return I(r)}function I(t){var e=t.length;if(e<=Nn)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Nn));return n}function Y(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function M(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=V(t[i]);return o}function B(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function X(t,e,n,r,o,i){if(!x(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function q(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function z(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function H(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,o){return o||H(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),u(t,e,n,r,23,4),n+4}function W(t,e,n,r,o){return o||H(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),u(t,e,n,r,52,8),n+8}function G(t){if((t=Z(t).replace(Xn,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function Z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Q(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}function tt(t){return o(G(t))}function et(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function nt(t){return t!==t}function rt(t){return null!=t&&(!!t._isBuffer||ot(t)||it(t))}function ot(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function it(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&ot(t.slice(0,0))}function st(t,e){var n={seen:[],stylize:lt};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),yt(e)?n.showHidden=e:e&&St(n,e),$t(n.showHidden)&&(n.showHidden=!1),$t(n.depth)&&(n.depth=2),$t(n.colors)&&(n.colors=!1),$t(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=at),ct(n,t,n.depth)}function at(t,e){var n=st.styles[e];return n?"["+st.colors[n][0]+"m"+t+"["+st.colors[n][1]+"m":t}function lt(t,e){return t}function ut(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function ct(t,e,n){if(t.customInspect&&e&&At(e.inspect)&&e.inspect!==st&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return _t(r)||(r=ct(t,r,n)),r}var o=pt(t,e);if(o)return o;var i=Object.keys(e),s=ut(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),Et(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return ft(e);if(0===i.length){if(At(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(xt(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(kt(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Et(e))return ft(e)}var l="",u=!1,c=["{","}"];if(bt(e)&&(u=!0,c=["[","]"]),At(e)&&(l=" [Function"+(e.name?": "+e.name:"")+"]"),xt(e)&&(l=" "+RegExp.prototype.toString.call(e)),kt(e)&&(l=" "+Date.prototype.toUTCString.call(e)),Et(e)&&(l=" "+ft(e)),0===i.length&&(!u||0==e.length))return c[0]+l+c[1];if(n<0)return xt(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var p;return p=u?mt(t,e,n,s,i):i.map(function(r){return dt(t,e,n,s,r,u)}),t.seen.pop(),ht(p,l,c)}function pt(t,e){if($t(e))return t.stylize("undefined","undefined");if(_t(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return vt(e)?t.stylize(""+e,"number"):yt(e)?t.stylize(""+e,"boolean"):gt(e)?t.stylize("null","null"):void 0}function ft(t){return"["+Error.prototype.toString.call(t)+"]"}function mt(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)Tt(e,String(s))?i.push(dt(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(dt(t,e,n,r,o,!0))}),i}function dt(t,e,n,r,o,i){var s,a,l;if(l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),Tt(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(l.value)<0?(a=gt(n)?ct(t,l.value,null):ct(t,l.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),$t(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function ht(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function bt(t){return Array.isArray(t)}function yt(t){return"boolean"==typeof t}function gt(t){return null===t}function vt(t){return"number"==typeof t}function _t(t){return"string"==typeof t}function $t(t){return void 0===t}function xt(t){return wt(t)&&"[object RegExp]"===Lt(t)}function wt(t){return"object"==typeof t&&null!==t}function kt(t){return wt(t)&&"[object Date]"===Lt(t)}function Et(t){return wt(t)&&("[object Error]"===Lt(t)||t instanceof Error)}function At(t){return"function"==typeof t}function Rt(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Lt(t){return Object.prototype.toString.call(t)}function St(t,e){if(!e||!wt(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function Tt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jt(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function Ot(){return void 0!==Hn?Hn:Hn=function(){return"foo"===function(){}.name}()}function Ct(t){return Object.prototype.toString.call(t)}function Ut(t){return!rt(t)&&("function"==typeof xe.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function Dt(t,e){t||Nt(t,!0,e,"==",Xt)}function It(t){if(At(t)){if(Ot())return t.name;var e=t.toString().match(Zn);return e&&e[1]}}function Yt(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=Bt(this),this.generatedMessage=!0);var e=t.stackStartFunction||Nt;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,o=It(e),i=r.indexOf("\n"+o);if(i>=0){var s=r.indexOf("\n",i+1);r=r.substring(s+1)}this.stack=r}}}function Pt(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function Mt(t){if(Ot()||!At(t))return st(t);var e=It(t);return"[Function"+(e?": "+e:"")+"]"}function Bt(t){return Pt(Mt(t.actual),128)+" "+t.operator+" "+Pt(Mt(t.expected),128)}function Nt(t,e,n,r,o){throw new Yt({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function Xt(t,e){t||Nt(t,!0,e,"==",Xt)}function qt(t,e,n){t!=e&&Nt(t,e,n,"==",qt)}function zt(t,e,n){t==e&&Nt(t,e,n,"!=",zt)}function Ht(t,e,n){Wt(t,e,!1)||Nt(t,e,n,"deepEqual",Ht)}function Ft(t,e,n){Wt(t,e,!0)||Nt(t,e,n,"deepStrictEqual",Ft)}function Wt(t,e,n,r){if(t===e)return!0;if(rt(t)&&rt(e))return 0===jt(t,e);if(kt(t)&&kt(e))return t.getTime()===e.getTime();if(xt(t)&&xt(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(Ut(t)&&Ut(e)&&Ct(t)===Ct(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===jt(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(rt(t)!==rt(e))return!1;var o=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==o&&o===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),Zt(t,e,n,r))}return n?t===e:t==e}function Gt(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function Zt(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(Rt(t)||Rt(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=Gt(t),i=Gt(e);if(o&&!i||!o&&i)return!1;if(o)return t=Gn.call(t),e=Gn.call(e),Wt(t,e,n);var s,a,l=Wn(t),u=Wn(e);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),a=l.length-1;a>=0;a--)if(l[a]!==u[a])return!1;for(a=l.length-1;a>=0;a--)if(s=l[a],!Wt(t[s],e[s],n,r))return!1;return!0}function Vt(t,e,n){Wt(t,e,!1)&&Nt(t,e,n,"notDeepEqual",Vt)}function Jt(t,e,n){Wt(t,e,!0)&&Nt(t,e,n,"notDeepStrictEqual",Jt)}function Kt(t,e,n){t!==e&&Nt(t,e,n,"===",Kt)}function Qt(t,e,n){t===e&&Nt(t,e,n,"!==",Qt)}function te(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function ee(t){var e;try{t()}catch(t){e=t}return e}function ne(t,e,n,r){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=ee(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&Nt(o,n,"Missing expected exception"+r);var i="string"==typeof r,s=!t&&Et(o),a=!t&&o&&!n;if((s&&i&&te(o,n)||a)&&Nt(o,n,"Got unwanted exception"+r),t&&o&&n&&!te(o,n)||!t&&o)throw o}function re(t,e,n){ne(!0,t,e,n)}function oe(t,e,n){ne(!1,t,e,n)}function ie(t){if(t)throw t}function se(t,e=1900){return t.setUTCFullYear(t.getUTCFullYear()-e),t.getTime()}function ae(t,...e){for(let n of e)le(t,n),le(t.prototype,n.prototype);return t}function le(t,e){for(let n of or(e))t.hasOwnProperty(n)||sr(t,n,ir(e,n))}function ue(t,...e){for(const n of e)_r[`${t}-${n}`]=_r[t]}function ce(t,e,n){const r={};switch(t.precision){case 3:r.day="numeric";case 2:r.month="numeric";case 1:r.year="numeric"}return new Intl.DateTimeFormat(e,assign$1(r,n,wr[t.precision]))}function pe(t){const{locale:locale,weekday:weekday,month:month,year:year}=t.resolvedOptions(),e=$r[locale];if(null==e)return null;const n=weekday||"long"===month?"long":month&&"2-digit"!==year?"medium":"short";return{approximate:e.date.approximate[n],uncertain:e.date.uncertain[n]}}function fe(t){return"day"===t||"month"===t||"year"===t}function me(t,e="en-US",n={}){const r=ce(t,e,n),o=pe(r);if(!t.isEDTF||null==o)return r.format(t);let i="";if(t.unspecified.value&&"function"==typeof r.formatToParts)for(let{type:type,value:value}of r.formatToParts(t))i+=fe(type)&&t.unspecified.is(type)?value.replace(/./g,"X"):value;else i=r.format(t);return t.approximate.value&&(i=o.approximate.replace("%D",i)),t.uncertain.value&&(i=o.uncertain.replace("%D",i)),i}function de(t){if(isNaN(t)||t<21||t===1/0)throw new RangeError(`invalid division of year: ${t}`);return t}function he(t,e,n,r,o){const i=e+n-r;return[t+Math.floor(i/o),de(r+(i%o+o)%o)]}function be(t){try{return Or.from(t)}catch(e){return Hr.from(t)}}function ye(t,e){this.low=t,this.high=e,this.length=1+e-t}function ge(t,e){if(!(this instanceof ge))return new ge(t,e);this.ranges=[],this.length=0,void 0!==t&&this.add(t,e)}function ve(t){t.length=t.ranges.reduce(function(t,e){return t+e.length},0)}function _e(...t){if(!t.length)return new _e.Date;if(1===t.length&&"object"==typeof t[0])return new(_e[t[0].type]||_e.Date)(t[0]);const e=parse$2(...t);return new _e[e.type](e)}function $e(t){return mo.parse(t.replace(/^y/,"Y").replace(/unknown/g,"*").replace(/open/g,"").replace(/u/g,"X").replace(/\?~/g,"%"))}var xe="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},we="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ke=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Ee=function(t){return Object(ke(t))},Ae={}.hasOwnProperty,Re=function(t,e){return Ae.call(t,e)},Le={}.toString,Se=function(t){return Le.call(t).slice(8,-1)},Te=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Se(t)?t.split(""):Object(t)},je=function(t){return Te(ke(t))},Oe=Math.ceil,Ce=Math.floor,Ue=function(t){return isNaN(t=+t)?0:(t>0?Ce:Oe)(t)},De=Math.min,Ie=function(t){return t>0?De(Ue(t),9007199254740991):0},Ye=Math.max,Pe=Math.min,Me=function(t,e){return t=Ue(t),t<0?Ye(t+e,0):Pe(t,e)},Be=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),Ne=Be["__core-js_shared__"]||(Be["__core-js_shared__"]={}),Xe=0,qe=Math.random(),ze=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Xe+qe).toString(36))},He=function(t){return Ne[t]||(Ne[t]={})}("keys"),Fe=function(t){return function(e,n,r){var o,i=je(e),s=Ie(i.length),a=Me(r,s);if(t&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}}(!1),We=function(t){return He[t]||(He[t]=ze(t))}("IE_PROTO"),Ge=function(t,e){var n,r=je(t),o=0,i=[];for(n in r)n!=We&&Re(r,n)&&i.push(n);for(;e.length>o;)Re(r,n=e[o++])&&(~Fe(i,n)||i.push(n));return i},Ze="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ve=Object.keys||function(t){return Ge(t,Ze)},Je=e(function(t){var e=t.exports={version:"2.5.0"};"number"==typeof __e&&(__e=e)}),Ke=(Je.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),Qe=function(t,e,n){if(Ke(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},tn=function(t){return"object"==typeof t?null!==t:"function"==typeof t},en=function(t){if(!tn(t))throw TypeError(t+" is not an object!");return t},nn=function(t){try{return!!t()}catch(t){return!0}},rn=!nn(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),on=Be.document,sn=tn(on)&&tn(on.createElement),an=function(t){return sn?on.createElement(t):{}},ln=!rn&&!nn(function(){return 7!=Object.defineProperty(an("div"),"a",{get:function(){return 7}}).a}),un=function(t,e){if(!tn(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!tn(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!tn(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!tn(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},cn=Object.defineProperty,pn={f:rn?Object.defineProperty:function(t,e,n){if(en(t),e=un(e,!0),en(n),ln)try{return cn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},fn=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},mn=rn?function(t,e,n){return pn.f(t,e,fn(1,n))}:function(t,e,n){return t[e]=n,t},dn=function(t,e,n){var r,o,i,s=t&dn.F,a=t&dn.G,l=t&dn.S,u=t&dn.P,c=t&dn.B,p=t&dn.W,f=a?Je:Je[e]||(Je[e]={}),m=f.prototype,d=a?Be:l?Be[e]:(Be[e]||{}).prototype;a&&(n=e);for(r in n)(o=!s&&d&&void 0!==d[r])&&r in f||(i=o?d[r]:n[r],f[r]=a&&"function"!=typeof d[r]?n[r]:c&&o?Qe(i,Be):p&&d[r]==i?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(i):u&&"function"==typeof i?Qe(Function.call,i):i,u&&((f.virtual||(f.virtual={}))[r]=i,t&dn.R&&m&&!m[r]&&mn(m,r,i)))};dn.F=1,dn.G=2,dn.S=4,dn.P=8,dn.B=16,dn.W=32,dn.U=64,dn.R=128;var hn=dn;!function(t,e){var n=(Je.Object||{})[t]||Object[t],r={};r[t]=e(n),hn(hn.S+hn.F*nn(function(){n(1)}),"Object",r)}("keys",function(){return function(t){return Ve(Ee(t))}});var bn=Je.Object.keys,yn=t(e(function(t){t.exports={default:bn,__esModule:!0}})),gn=t(e(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}));hn(hn.S+hn.F*!rn,"Object",{defineProperty:pn.f});var vn=Je.Object,_n=function(t,e,n){return vn.defineProperty(t,e,n)},$n=e(function(t){t.exports={default:_n,__esModule:!0}});t($n);var xn=t(e(function(t,e){e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}($n);e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(t,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()})),wn=["catalan","croatian","czech","danish","dutch","english","american","finnish","french","german","greek","italian","latin","norwegian","polish","portuguese","brazilian","russian","slovene","spanish","swedish"],kn={abstract:{type:"f_long_literal",biblatex:"abstract",csl:"abstract"},addendum:{type:"f_literal",biblatex:"addendum"},afterword:{type:"l_name",biblatex:"afterword"},annotation:{type:"f_long_literal",biblatex:"annotation"},annotator:{type:"l_name",biblatex:"annotator"},author:{type:"l_name",biblatex:"author",csl:"author"},bookauthor:{type:"l_name",biblatex:"bookauthor",csl:"container-author"},bookpagination:{type:"f_key",biblatex:"bookpagination",options:["page","column","section","paragraph","verse","line"]},booksubtitle:{type:"f_title",biblatex:"booksubtitle"},booktitle:{type:"f_title",biblatex:"booktitle",csl:"container-title"},booktitleaddon:{type:"f_title",biblatex:"booktitleaddon"},chapter:{type:"f_literal",biblatex:"chapter",csl:"chapter-number"},commentator:{type:"l_name",biblatex:"commentator"},date:{type:"f_date",biblatex:"date",csl:"issued"},doi:{type:"f_verbatim",biblatex:"doi",csl:"DOI"},edition:{type:"f_integer",biblatex:"edition",csl:"edition"},editor:{type:"l_name",biblatex:"editor",csl:"editor"},editora:{type:"l_name",biblatex:"editora"},editorb:{type:"l_name",biblatex:"editorb"},editorc:{type:"l_name",biblatex:"editorc"},editortype:{type:"f_key",biblatex:"editortype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editoratype:{type:"f_key",biblatex:"editoratype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editorbtype:{type:"f_key",biblatex:"editorbtype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editorctype:{type:"f_key",biblatex:"editorctype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},eid:{type:"f_literal",biblatex:"eid"},entrysubtype:{type:"f_literal",biblatex:"entrysubtype"},eprint:{type:"f_verbatim",biblatex:"eprint"},eprintclass:{type:"f_literal",biblatex:"eprintclass"},eprinttype:{type:"f_literal",biblatex:"eprinttype"},eventdate:{type:"f_date",biblatex:"eventdate",csl:"event-date"},eventtitle:{type:"f_title",biblatex:"eventtitle",csl:"event"},file:{type:"f_verbatim",biblatex:"file"},foreword:{type:"l_name",biblatex:"foreword"},holder:{type:"l_name",biblatex:"holder"},howpublished:{type:"f_literal",biblatex:"howpublished",csl:"medium"},indextitle:{type:"f_literal",biblatex:"indextitle"},institution:{type:"l_literal",biblatex:"institution"},introduction:{type:"l_name",biblatex:"introduction"},isan:{type:"f_literal",biblatex:"isan"},isbn:{type:"f_literal",biblatex:"isbn",csl:"ISBN"},ismn:{type:"f_literal",biblatex:"ismn"},isrn:{type:"f_literal",biblatex:"isrn"},issn:{type:"f_literal",biblatex:"issn",csl:"ISSN"},issue:{type:"f_literal",biblatex:"issue",csl:"issue"},issuesubtitle:{type:"f_literal",biblatex:"issuesubtitle"},issuetitle:{type:"f_literal",biblatex:"issuetitle"},iswc:{type:"f_literal",biblatex:"iswc"},journalsubtitle:{type:"f_literal",biblatex:"journalsubtitle"},journaltitle:{type:"f_literal",biblatex:"journaltitle",csl:"container-title"},keywords:{type:"l_tag",biblatex:"keywords"},label:{type:"f_literal",biblatex:"label"},language:{type:"l_key",biblatex:"language",options:wn},langid:{type:"f_key",strict:!0,biblatex:"langid",csl:"language",options:{acadian:{csl:"fr-CA",biblatex:"acadian"},afrikaans:{csl:"af-ZA",biblatex:"afrikaans"},arabic:{csl:"ar",biblatex:"arabic"},basque:{csl:"eu",biblatex:"basque"},bulgarian:{csl:"bg-BG",biblatex:"bulgarian"},catalan:{csl:"ca-AD",biblatex:"catalan"},chinese:{csl:"zh-CN",biblatex:"pinyin"},croatian:{csl:"hr-HR",biblatex:"croatian"},czech:{csl:"cs-CZ",biblatex:"czech"},danish:{csl:"da-DK",biblatex:"danish"},dutch:{csl:"nl-NL",biblatex:"dutch"},auenglish:{csl:"en-GB",biblatex:"australian"},caenglish:{csl:"en-US",biblatex:"canadian"},nzenglish:{csl:"en-GB",biblatex:"newzealand"},ukenglish:{csl:"en-GB",biblatex:"ukenglish"},usenglish:{csl:"en-US",biblatex:"usenglish"},estonian:{csl:"et-EE",biblatex:"estonian"},finnish:{csl:"fi-FI",biblatex:"finnish"},french:{csl:"fr-FR",biblatex:"french"},cafrench:{csl:"fr-CA",biblatex:"canadien"},german:{csl:"de-DE",biblatex:"ngerman"},atgerman:{csl:"de-AT",biblatex:"naustrian"},greek:{csl:"el-GR",biblatex:"greek"},hebrew:{csl:"he-IL",biblatex:"hebrew"},hungarian:{csl:"hu-HU",biblatex:"hungarian"},icelandic:{csl:"is-IS",biblatex:"icelandic"},italian:{csl:"it-IT",biblatex:"italian"},japanese:{csl:"ja-JP",biblatex:"japanese"},latin:{csl:"la",biblatex:"latin"},latvian:{csl:"lv-LV",biblatex:"latvian"},lithuanian:{csl:"lt-LT",biblatex:"lithuanian"},magyar:{csl:"hu-HU",biblatex:"magyar"},mongolian:{csl:"mn-MN",biblatex:"mongolian"},norwegian:{csl:"nb-NO",biblatex:"norsk"},newnorwegian:{csl:"nn-NO",biblatex:"nynorsk"},farsi:{csl:"fa-IR",biblatex:"farsi"},polish:{csl:"pl-PL",biblatex:"polish"},portuguese:{csl:"pt-PT",biblatex:"portuguese"},brportuguese:{csl:"pt-BR",biblatex:"brazilian"},romanian:{csl:"ro-RO",biblatex:"romanian"},russian:{csl:"ru-RU",biblatex:"russian"},serbian:{csl:"sr-RS",biblatex:"serbian"},cyrillicserbian:{csl:"sr-RS",biblatex:"serbianc"},slovak:{csl:"sk-SK",biblatex:"slovak"},slovene:{csl:"sl-SL",biblatex:"slovene"},spanish:{csl:"es-ES",biblatex:"spanish"},swedish:{csl:"sv-SE",biblatex:"swedish"},thai:{csl:"th-TH",biblatex:"thai"},turkish:{csl:"tr-TR",biblatex:"turkish"},ukrainian:{csl:"uk-UA",biblatex:"ukrainian"},vietnamese:{csl:"vi-VN",biblatex:"vietnamese"}}},library:{type:"f_literal",biblatex:"library"},location:{type:"l_literal",biblatex:"location",csl:"publisher-place"},mainsubtitle:{type:"f_title",biblatex:"mainsubtitle"},maintitle:{type:"f_title",biblatex:"maintitle"},maintitleaddon:{type:"f_title",biblatex:"maintitleaddon"},nameaddon:{type:"f_literal",biblatex:"nameaddon"},note:{type:"f_literal",biblatex:"note",csl:"note"},number:{type:"f_literal",biblatex:"number",csl:"number"},organization:{type:"l_literal",biblatex:"organization"},origdate:{type:"f_date",biblatex:"origdate",csl:"original-date"},origlanguage:{type:"f_key",biblatex:"origlanguage",options:wn},origlocation:{type:"l_literal",biblatex:"origlocation",csl:"original-publisher-place"},origpublisher:{type:"l_literal",biblatex:"origpublisher",csl:"original-publisher"},origtitle:{type:"f_title",biblatex:"origtitle",csl:"original-title"},pages:{type:"l_range",biblatex:"pages",csl:"page"},pagetotal:{type:"f_literal",biblatex:"pagetotal",csl:"number-of-pages"},pagination:{type:"f_key",biblatex:"pagination",options:["page","column","section","paragraph","verse","line"]},part:{type:"f_literal",biblatex:"part"},publisher:{type:"l_literal",biblatex:"publisher",csl:"publisher"},pubstate:{type:"f_key",biblatex:"pubstate",csl:"status",options:{inpreparation:{csl:"in preparation",biblatex:"inpreparation"},submitted:{csl:"submitted",biblatex:"submitted"},forthcoming:{csl:"forthcoming",biblatex:"forthcoming"},inpress:{csl:"in press",biblatex:"inpress"},prepublished:{csl:"prepublished",biblatex:"prepublished"}}},reprinttitle:{type:"f_literal",biblatex:"reprinttitle"},series:{type:"f_literal",biblatex:"series",csl:"collection-title"},shortauthor:{type:"l_name",biblatex:"shortauthor"},shorteditor:{type:"l_name",biblatex:"shorteditor"},shorthand:{type:"f_literal",biblatex:"shorthand"},shorthandintro:{type:"f_literal",biblatex:"shorthandintro"},shortjournal:{type:"f_literal",biblatex:"shortjournal",csl:"container-title-short"},shortseries:{type:"f_literal",biblatex:"shortseries"},shorttitle:{type:"f_literal",biblatex:"shorttitle",csl:"title-short"},subtitle:{type:"f_title",biblatex:"subtitle"},title:{type:"f_title",biblatex:"title",csl:"title"},titleaddon:{type:"f_title",biblatex:"titleaddon"},translator:{type:"l_name",biblatex:"translator",csl:"translator"},type:{type:"f_key",biblatex:"type",options:["manual","patent","report","thesis","mathesis","phdthesis","candthesis","techreport","resreport","software","datacd","audiocd"]},url:{type:"f_uri",biblatex:"url",csl:"URL"},urldate:{type:"f_date",biblatex:"urldate",csl:"accessed"},venue:{type:"f_literal",biblatex:"venue",csl:"event-place"},version:{type:"f_literal",biblatex:"version",csl:"version"},volume:{type:"f_literal",biblatex:"volume",csl:"volume"},volumes:{type:"f_literal",biblatex:"volumes",csl:"number-of-volumes"}},En={article:{order:1,biblatex:"article",csl:"article",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-magazine":{order:2,biblatex:"article",csl:"article-magazine",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-newspaper":{order:3,biblatex:"article",csl:"article-newspaper",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-journal":{order:4,biblatex:"article",csl:"article-journal",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"post-weblog":{order:5,biblatex:"online",csl:"post-weblog",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},book:{order:10,biblatex:"book",csl:"book",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvbook:{order:11,biblatex:"mvbook",csl:"book",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},inbook:{order:12,biblatex:"inbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},bookinbook:{order:13,biblatex:"bookinbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},suppbook:{order:14,biblatex:"suppbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},booklet:{order:15,biblatex:"booklet",csl:"pamphlet",required:["title","date"],eitheror:["editor","author"],optional:["abstract","titleaddon","addendum","pages","pagination","howpublished","type","pubstate","chapter","doi","subtitle","language","langid","location","url","urldate","pagetotal","bookpagination","note","eprint","eprintclass","eprinttype","annotation","keywords"]},collection:{order:20,biblatex:"collection",csl:"dataset",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvcollection:{order:21,biblatex:"mvcollection",csl:"dataset",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},incollection:{order:22,biblatex:"incollection",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},suppcollection:{order:23,biblatex:"suppcollection",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},post:{order:30,biblatex:"online",csl:"post",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},manual:{order:40,biblatex:"manual",csl:"book",required:["title","date"],eitheror:["editor","author"],optional:["abstract","addendum","chapter","doi","edition","eprint","eprintclass","eprinttype","isbn","language","langid","location","note","number","organization","pages","pagination","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","type","url","urldate","version","annotation","keywords"]},misc:{order:41,biblatex:"misc",csl:"entry",required:["title","date"],eitheror:["editor","author"],optional:["abstract","addendum","howpublished","type","pubstate","organization","doi","subtitle","language","langid","location","url","urldate","titleaddon","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},online:{order:42,biblatex:"online",csl:"webpage",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},patent:{order:43,biblatex:"patent",csl:"patent",required:["title","number","author","date"],eitheror:[],optional:["abstract","addendum","holder","location","pubstate","doi","subtitle","titleaddon","type","url","urldate","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},periodical:{order:50,biblatex:"periodical",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","volume","pubstate","number","series","issn","issue","issuesubtitle","issuetitle","doi","subtitle","editora","editorb","editorc","url","urldate","language","langid","note","eprint","eprintclass","eprinttype","annotation","keywords"]},suppperiodical:{order:51,biblatex:"suppperiodical",csl:"entry",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},proceedings:{order:60,biblatex:"proceedings",csl:"entry",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","chapter","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","organization","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volume","volumes","annotation","keywords"]},mvproceedings:{order:61,biblatex:"mvproceedings",csl:"entry",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","note","number","organization","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volumes","annotation","keywords"]},inproceedings:{order:62,biblatex:"inproceedings",csl:"paper-conference",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","booksubtitle","booktitleaddon","chapter","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","organization","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volume","volumes","annotation","keywords"]},reference:{order:70,biblatex:"book",csl:"reference",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvreference:{order:71,biblatex:"mvreference",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},inreference:{order:72,biblatex:"inreference",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},"entry-encyclopedia":{order:73,biblatex:"inreference",csl:"entry-encyclopedia",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},"entry-dictionary":{order:74,biblatex:"inreference",csl:"entry-dictionary",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},report:{order:80,biblatex:"report",csl:"report",required:["author","title","type","institution","date"],eitheror:[],optional:["abstract","addendum","pages","pagination","pagetotal","bookpagination","pubstate","number","isrn","chapter","doi","subtitle","language","langid","location","url","urldate","titleaddon","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},thesis:{order:81,biblatex:"thesis",csl:"thesis",required:["author","title","type","institution","date"],eitheror:[],optional:["abstract","addendum","pages","pagination","pagetotal","bookpagination","pubstate","isbn","chapter","doi","subtitle","language","langid","location","url","urldate","titleaddon","note","eprint","eprintclass","eprinttype","annotation","keywords"]},unpublished:{order:90,biblatex:"unpublished",csl:"manuscript",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","howpublished","pubstate","isbn","date","subtitle","language","langid","location","url","urldate","titleaddon","note","annotation","keywords"]}};const An=/^days?$/i,Rn=/^months?$/i,Ln=/^years?$/i,Sn=/^[xX]$/,Tn=/^[0-9xXdDmMyY]{8}$/,jn="YYYYMMDD".split(""),On=[31,29,31,30,31,30,31,31,30,31,30,31],{pow:pow,max:max$1,min:min$2}=Math;class Cn{static test(t,e){return this.convert(t)&this.convert(e)}static convert(t=0){if((t=t||0)instanceof Cn)return t.value;switch(typeof t){case"number":return t;case"boolean":return t?Cn.YMD:0;case"string":if(An.test(t))return Cn.DAY;if(Rn.test(t))return Cn.MONTH;if(Ln.test(t))return Cn.YEAR;if(Tn.test(t))return Cn.compute(t);default:throw new Error(`invalid value: ${t}`)}}static compute(t){return t.split("").reduce((t,e,n)=>t|(Sn.test(e)?pow(2,n):0),0)}static values(t,e=0){let n=Cn.numbers(t,e).split(""),r=[Number(n.slice(0,4).join(""))];return n.length>4&&r.push(Number(n.slice(4,6).join(""))),n.length>6&&r.push(Number(n.slice(6,8).join(""))),Cn.normalize(r)}static numbers(t,e=0){return t.replace(/[xX]/g,e)}static normalize(t){return t.length>1&&(t[1]=min$2(11,max$1(0,t[1]-1))),t.length>2&&(t[2]=min$2(On[t[1]]||NaN,max$1(1,t[2]))),t}constructor(t=0){this.value=Cn.convert(t)}test(t=0){return this.value&Cn.convert(t)}bit(t){return this.value&pow(2,t)}get day(){return this.test(Cn.DAY)}get month(){return this.test(Cn.MONTH)}get year(){return this.test(Cn.YEAR)}add(t){return this.value=this.value|Cn.convert(t),this}set(t=0){return this.value=Cn.convert(t),this}mask(t=jn,e=0,n="X"){return t.map((t,r)=>this.bit(e+r)?n:t)}masks(t,e="X"){let n=0;return t.map(t=>{let r=this.mask(t.split(""),n,e);n+=r.length;return r.join("")})}max([t,e,r]){if(!t)return[];if(t=Number(this.test(Cn.YEAR)?this.masks([t],"9")[0]:t),!e)return[t];switch(e=Number(e)-1,this.test(Cn.MONTH)){case Cn.MONTH:e=11;break;case Cn.MX:e=e<9?8:11;break;case Cn.XM:e=(e=(e+1)%10)<3?e+9:e-1}if(!r)return[t,e];switch(r=Number(r),this.test(Cn.DAY)){case Cn.DAY:r=On[e];break;case Cn.DX:r=min$2(On[e],r+(9-r%10));break;case Cn.XD:r%=10,1===e?r=9!==r||n(t)?r+20:r+10:(r=r<2?r+30:r+20)>On[e]&&(r-=10)}return 1===e&&r>28&&!n(t)&&(r=28),[t,e,r]}marks(t,e="?"){return t.map((t,n)=>[this.qualified(2*n)?e:"",t,this.qualified(2*n+1)?e:""].join(""))}qualified(t){switch(t){case 1:return this.value===Cn.YEAR||this.value&Cn.YEAR&&!(this.value&Cn.MONTH);case 2:return this.value===Cn.MONTH||this.value&Cn.MONTH&&!(this.value&Cn.YEAR);case 3:return this.value===Cn.YM;case 4:return this.value===Cn.DAY||this.value&Cn.DAY&&this.value!==Cn.YMD;case 5:return this.value===Cn.YMD;default:return!1}}qualify(t){return this.value=this.value|Cn.UA[t],this}toJSON(){return this.value}toString(t="X"){return this.masks(["YYYY","MM","DD"],t).join("-")}}Cn.prototype.is=Cn.prototype.test,Cn.DAY=Cn.D=Cn.compute("yyyymmxx"),Cn.MONTH=Cn.M=Cn.compute("yyyyxxdd"),Cn.YEAR=Cn.Y=Cn.compute("xxxxmmdd"),Cn.MD=Cn.M|Cn.D,Cn.YMD=Cn.Y|Cn.MD,Cn.YM=Cn.Y|Cn.M,Cn.YYXX=Cn.compute("yyxxmmdd"),Cn.YYYX=Cn.compute("yyyxmmdd"),Cn.XXXX=Cn.compute("xxxxmmdd"),Cn.DX=Cn.compute("yyyymmdx"),Cn.XD=Cn.compute("yyyymmxd"),Cn.MX=Cn.compute("yyyymxdd"),Cn.XM=Cn.compute("yyyyxmdd"),Cn.UA=[Cn.YEAR,Cn.YEAR,Cn.MONTH,Cn.YM,Cn.DAY,Cn.YMD];var Un=Cn,Dn=[],In=[],Yn="undefined"!=typeof Uint8Array?Uint8Array:Array,Pn=!1,Mn={}.toString,Bn=Array.isArray||function(t){return"[object Array]"==Mn.call(t)};f.TYPED_ARRAY_SUPPORT=void 0===xe.TYPED_ARRAY_SUPPORT||xe.TYPED_ARRAY_SUPPORT,f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,e,n){return m(null,t,e,n)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array),f.alloc=function(t,e,n){return h(null,t,e,n)},f.allocUnsafe=function(t){return b(null,t)},f.allocUnsafeSlow=function(t){return b(null,t)},f.isBuffer=rt,f.compare=function(t,e){if(!x(t)||!x(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Bn(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=f.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(!x(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},f.byteLength=w,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)E(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)E(this,e,e+3),E(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)E(this,e,e+7),E(this,e+1,e+6),E(this,e+2,e+5),E(this,e+3,e+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):k.apply(this,arguments)},f.prototype.equals=function(t){if(!x(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,e,n,r,o){if(!x(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,s=n-e,a=Math.min(i,s),l=this.slice(r,o),u=t.slice(e,n),c=0;c<a;++c)if(l[c]!==u[c]){i=l[c],s=u[c];break}return i<s?-1:s<i?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return A(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return A(this,t,e,n,!1)},f.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return L(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return j(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Nn=4096;f.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(f.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=f.prototype;else{var o=e-t;r=new f(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},f.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},f.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},f.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},f.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},f.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),l(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),l(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),l(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),l(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||X(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},f.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||X(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},f.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):q(this,t,e,!0),e+2},f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):q(this,t,e,!1),e+2},f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},f.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);X(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},f.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);X(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):q(this,t,e,!0),e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):q(this,t,e,!1),e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||X(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},f.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return W(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return W(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!f.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},f.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=x(t)?t:J(new f(t,r).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var Xn=/[^+\/0-9A-Za-z-_]/g;xe.setTimeout,xe.clearTimeout;xe.performance;var qn,zn=qn="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};st.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},st.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Hn,Fn=Object.prototype.hasOwnProperty,Wn=Object.keys||function(t){var e=[];for(var n in t)Fn.call(t,n)&&e.push(n);return e},Gn=Array.prototype.slice,Zn=/\s*function\s+([^\(\s]*)\s*/;Dt.AssertionError=Yt,zn(Yt,Error),Dt.fail=Nt,Dt.ok=Xt,Dt.equal=qt,Dt.notEqual=zt,Dt.deepEqual=Ht,Dt.deepStrictEqual=Ft,Dt.notDeepEqual=Vt,Dt.notDeepStrictEqual=Jt,Dt.strictEqual=Kt,Dt.notStrictEqual=Qt,Dt.throws=re,Dt.doesNotThrow=oe,Dt.ifError=ie;var Vn=Object.freeze({default:Dt,AssertionError:Yt,fail:Nt,ok:Xt,assert:Xt,equal:qt,notEqual:zt,deepEqual:Ht,deepStrictEqual:Ft,notDeepEqual:Vt,notDeepStrictEqual:Jt,strictEqual:Kt,notStrictEqual:Qt,throws:re,doesNotThrow:oe,ifError:ie}),Jn=e(function(t){!function(e,n){t.exports?t.exports=n():e.nearley=n()}(we,function(){function t(e,n,r){return this.id=++t.highestId,this.name=e,this.symbols=n,this.postprocess=r,this}function e(t,e,n,r){this.rule=t,this.dot=e,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===t.symbols.length}function n(t,e){this.grammar=t,this.index=e,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(t,e){this.rules=t,this.start=e||this.rules[0].name;var n=this.byName={};this.rules.forEach(function(t){n.hasOwnProperty(t.name)||(n[t.name]=[]),n[t.name].push(t)})}function o(){this.reset("")}function i(t,e,i){if(t instanceof r)var s=t,i=e;else s=r.fromCompiled(t,e);this.grammar=s,this.options={keepHistory:!1,lexer:s.lexer||new o};for(var a in i||{})this.options[a]=i[a];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(s,0);this.table=[l];l.wants[s.start]=[],l.predict(s.start),l.process(),this.current=0}return t.highestId=0,t.prototype.toString=function(t){function e(t){return t.literal?JSON.stringify(t.literal):t.type?"%"+t.type:t.toString()}var n=void 0===t?this.symbols.map(e).join(" "):this.symbols.slice(0,t).map(e).join(" ")+" ● "+this.symbols.slice(t).map(e).join(" ");return this.name+" → "+n},e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(t){var n=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=t,n.isComplete&&(n.data=n.build()),n},e.prototype.build=function(){var t=[],e=this;do{t.push(e.right.data),e=e.left}while(e.left);return t.reverse(),t},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,i.fail))},n.prototype.process=function(t){for(var e=this.states,n=this.wants,r=this.completed,o=0;o<e.length;o++){var s=e[o];if(s.isComplete){if(s.finish(),s.data!==i.fail){for(var a=s.wantedBy,l=a.length;l--;){var u=a[l];this.complete(u,s)}if(s.reference===this.index){var c=s.rule.name;(this.completed[c]=this.completed[c]||[]).push(s)}}}else{if("string"!=typeof(c=s.rule.symbols[s.dot])){this.scannable.push(s);continue}if(n[c]){if(n[c].push(s),r.hasOwnProperty(c))for(var p=r[c],l=0;l<p.length;l++){var f=p[l];this.complete(s,f)}}else n[c]=[s],this.predict(c)}}},n.prototype.predict=function(t){for(var n=this.grammar.byName[t]||[],r=0;r<n.length;r++){var o=n[r],i=this.wants[t],s=new e(o,0,this.index,i);this.states.push(s)}},n.prototype.complete=function(t,e){var n=e.rule.name;if(t.rule.symbols[t.dot]===n){var r=t.nextState(e);this.states.push(r)}},r.fromCompiled=function(e,n){var o=e.Lexer;e.ParserStart&&(n=e.ParserStart,e=e.ParserRules);var i=new r(e=e.map(function(e){return new t(e.name,e.symbols,e.postprocess)}),n);return i.lexer=o,i},o.prototype.reset=function(t,e){this.buffer=t,this.index=0,this.line=e?e.line:1,this.lastLineBreak=e?-e.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var t=this.buffer[this.index++];return"\n"===t&&(this.line+=1,this.lastLineBreak=this.index),{value:t}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(t,e){var n=this.buffer;if("string"==typeof n){var r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var o=n.substring(this.lastLineBreak,r),i=this.index-this.lastLineBreak;return e+=" at line "+this.line+" col "+i+":\n\n",e+="  "+o+"\n",e+="  "+Array(i).join(" ")+"^"}return e+" at index "+(this.index-1)},i.fail={},i.prototype.feed=function(t){var e=this.lexer;e.reset(t,this.lexerState);for(var r;r=e.next();){var i=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var s=this.current+1,a=new n(this.grammar,s);this.table.push(a);for(var l=r.value,u=e.constructor===o?r.value:r,c=i.scannable,p=c.length;p--;){var f=c[p],m=f.rule.symbols[f.dot];if(m.test?m.test(u):m.type?m.type===r.type:m.literal===l){var d=f.nextState({data:u,token:r,isToken:!0,reference:s-1});a.states.push(d)}}if(a.process(),0===a.states.length){var h=this.lexer.formatError(r,"invalid syntax")+"\n";h+="Unexpected "+(r.type?r.type+" token: ":""),h+=JSON.stringify(void 0!==r.value?r.value:r)+"\n";var b=new Error(h);throw b.offset=this.current,b.token=r,b}this.options.keepHistory&&(i.lexerState=e.save()),this.current++}return i&&(this.lexerState=e.save()),this.results=this.finish(),this},i.prototype.save=function(){var t=this.table[this.current];return t.lexerState=this.lexerState,t},i.prototype.restore=function(t){var e=t.index;this.current=e,this.table[e]=t,this.table.splice(e+1),this.lexerState=t.lexerState,this.results=this.finish()},i.prototype.rewind=function(t){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[t])},i.prototype.finish=function(){var t=[],e=this.grammar.start;return this.table[this.table.length-1].states.forEach(function(n){n.rule.name===e&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==i.fail&&t.push(n)}),t.map(function(t){return t.data})},{Parser:i,Grammar:r,Rule:t}})});const{assign:assign}=Object,Kn={num(t){return Number(Array.isArray(t)?t.join(""):t)},join(t){return t.join("")},zero(){return 0},nothing(){return null},pick(...t){return 1===t.length?e=>e[t[0]]:e=>Kn.concat(e,t)},pluck(...t){return e=>t.map(t=>e[t])},concat(t,e=t.keys()){return Array.from(e).reduce((e,n)=>null!==t[n]?e.concat(t[n]):e,[])},merge(...t){if("object"==typeof t[t.length-1])var e=t.pop();return n=>assign(t.reduce((t,e)=>assign(t,n[e]),{}),e)},interval(t){return e=>({values:[e[0],e[2]],type:"Interval",level:t})},masked(t="unspecified",e="X"){return(n,r,o)=>{n=n.join("");let i=n.startsWith("-");let s=n.replace(/-/g,"");if(-1===s.indexOf(e))return o;let a=Un.values(s,0);i&&(a[0]=-a[0]);return{values:a,[t]:Un.compute(s)}}},date(t,e=0,n=null){return assign({type:"Date",level:e,values:Un.normalize(t.map(Number))},n)},year(t,e=1,n=null){return assign({type:"Year",level:e,values:t.map(Number)},n)},century(t,e=0){return{type:"Century",level:e,values:[t]}},decade(t,e=2){return{type:"Decade",level:e,values:[t]}},datetime(t){return{values:Un.normalize(t[0].map(Number)).concat(t[2]),offset:t[3],type:"Date",level:0}},season(t,e=1){return{type:"Season",level:e,values:[Number(t[0]),Number(t[2])]}},list(t){return assign({values:t[1],level:2},t[0],t[2])},qualify([t],e,n){let r={uncertain:new Un,approximate:new Un},o=t.map(([t,e,n],o)=>{for(let e in t)r[e].qualify(2*o);for(let t in n)r[t].qualify(1+2*o);return e});return r.uncertain.value||r.approximate.value?assign(Kn.date(o,2),{uncertain:r.uncertain.value,approximate:r.approximate.value}):n}};var Qn=Kn,tr=e(function(t){!function(){function e(t){return t[0]}const{num:num,zero:zero,nothing:nothing,pick:pick,pluck:pluck,join:join,concat:concat,merge:merge,century:century,interval:interval,list:list,masked:masked,date:date,datetime:datetime,season:season,qualify:qualify,year:year,decade:decade}=Qn;var n={Lexer:void 0,ParserRules:[{name:"edtf",symbols:["L0"],postprocess:e},{name:"edtf",symbols:["L1"],postprocess:e},{name:"edtf",symbols:["L2"],postprocess:e},{name:"edtf",symbols:["L3"],postprocess:e},{name:"L0",symbols:["date_time"],postprocess:e},{name:"L0",symbols:["century"],postprocess:e},{name:"L0",symbols:["L0i"],postprocess:e},{name:"L0i",symbols:["date_time",{literal:"/"},"date_time"],postprocess:interval(0)},{name:"century",symbols:["positive_century"],postprocess:t=>century(t[0])},{name:"century$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"century",symbols:["century$string$1"],postprocess:t=>century(0)},{name:"century",symbols:[{literal:"-"},"positive_century"],postprocess:t=>century(-t[1])},{name:"positive_century",symbols:["positive_digit","digit"],postprocess:num},{name:"positive_century",symbols:[{literal:"0"},"positive_digit"],postprocess:num},{name:"date_time",symbols:["date"],postprocess:e},{name:"date_time",symbols:["datetime"],postprocess:e},{name:"date",symbols:["year"],postprocess:t=>date(t)},{name:"date",symbols:["year_month"],postprocess:t=>date(t[0])},{name:"date",symbols:["year_month_day"],postprocess:t=>date(t[0])},{name:"year",symbols:["positive_year"],postprocess:e},{name:"year",symbols:["negative_year"],postprocess:e},{name:"year$string$1",symbols:[{literal:"0"},{literal:"0"},{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"year",symbols:["year$string$1"],postprocess:join},{name:"positive_year",symbols:["positive_digit","digit","digit","digit"],postprocess:join},{name:"positive_year",symbols:[{literal:"0"},"positive_digit","digit","digit"],postprocess:join},{name:"positive_year$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"positive_year",symbols:["positive_year$string$1","positive_digit","digit"],postprocess:join},{name:"positive_year$string$2",symbols:[{literal:"0"},{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"positive_year",symbols:["positive_year$string$2","positive_digit"],postprocess:join},{name:"negative_year",symbols:[{literal:"-"},"positive_year"],postprocess:join},{name:"year_month",symbols:["year",{literal:"-"},"month"],postprocess:pick(0,2)},{name:"year_month_day",symbols:["year",{literal:"-"},"month_day"],postprocess:pick(0,2)},{name:"month",symbols:["d01_12"],postprocess:e},{name:"month_day",symbols:["m31",{literal:"-"},"day"],postprocess:pick(0,2)},{name:"month_day",symbols:["m30",{literal:"-"},"d01_30"],postprocess:pick(0,2)},{name:"month_day$string$1",symbols:[{literal:"0"},{literal:"2"}],postprocess:function(t){return t.join("")}},{name:"month_day",symbols:["month_day$string$1",{literal:"-"},"d01_29"],postprocess:pick(0,2)},{name:"day",symbols:["d01_31"],postprocess:e},{name:"datetime$ebnf$1$subexpression$1",symbols:["timezone"],postprocess:e},{name:"datetime$ebnf$1",symbols:["datetime$ebnf$1$subexpression$1"],postprocess:e},{name:"datetime$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"datetime",symbols:["year_month_day",{literal:"T"},"time","datetime$ebnf$1"],postprocess:datetime},{name:"time",symbols:["hours",{literal:":"},"minutes",{literal:":"},"seconds","milliseconds"],postprocess:pick(0,2,4,5)},{name:"time$string$1",symbols:[{literal:"2"},{literal:"4"},{literal:":"},{literal:"0"},{literal:"0"},{literal:":"},{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"time",symbols:["time$string$1"],postprocess:()=>[24,0,0]},{name:"hours",symbols:["d00_23"],postprocess:num},{name:"minutes",symbols:["d00_59"],postprocess:num},{name:"seconds",symbols:["d00_59"],postprocess:num},{name:"milliseconds",symbols:[]},{name:"milliseconds",symbols:[{literal:"."},"d3"],postprocess:t=>num(t.slice(1))},{name:"timezone",symbols:[{literal:"Z"}],postprocess:zero},{name:"timezone",symbols:[{literal:"-"},"offset"],postprocess:t=>-t[1]},{name:"timezone",symbols:[{literal:"+"},"positive_offset"],postprocess:pick(1)},{name:"positive_offset",symbols:["offset"],postprocess:e},{name:"positive_offset$string$1",symbols:[{literal:"0"},{literal:"0"},{literal:":"},{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"positive_offset",symbols:["positive_offset$string$1"],postprocess:zero},{name:"positive_offset$subexpression$1$string$1",symbols:[{literal:"1"},{literal:"2"}],postprocess:function(t){return t.join("")}},{name:"positive_offset$subexpression$1",symbols:["positive_offset$subexpression$1$string$1"]},{name:"positive_offset$subexpression$1$string$2",symbols:[{literal:"1"},{literal:"3"}],postprocess:function(t){return t.join("")}},{name:"positive_offset$subexpression$1",symbols:["positive_offset$subexpression$1$string$2"]},{name:"positive_offset",symbols:["positive_offset$subexpression$1",{literal:":"},"minutes"],postprocess:t=>60*num(t[0])+t[2]},{name:"positive_offset$string$2",symbols:[{literal:"1"},{literal:"4"},{literal:":"},{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"positive_offset",symbols:["positive_offset$string$2"],postprocess:()=>840},{name:"positive_offset",symbols:["d00_14"],postprocess:t=>60*num(t[0])},{name:"offset",symbols:["d01_11",{literal:":"},"minutes"],postprocess:t=>60*num(t[0])+t[2]},{name:"offset$string$1",symbols:[{literal:"0"},{literal:"0"},{literal:":"}],postprocess:function(t){return t.join("")}},{name:"offset",symbols:["offset$string$1","d01_59"],postprocess:t=>num(t[1])},{name:"offset$string$2",symbols:[{literal:"1"},{literal:"2"},{literal:":"},{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"offset",symbols:["offset$string$2"],postprocess:()=>720},{name:"offset",symbols:["d01_12"],postprocess:t=>60*num(t[0])},{name:"L1",symbols:["L1d"],postprocess:e},{name:"L1",symbols:["L1Y"],postprocess:e},{name:"L1",symbols:["L1S"],postprocess:e},{name:"L1",symbols:["L1i"],postprocess:e},{name:"L1d",symbols:["date_ua"],postprocess:e},{name:"L1d",symbols:["L1X"],postprocess:merge(0,{type:"Date",level:1})},{name:"date_ua",symbols:["date","UA"],postprocess:merge(0,1,{level:1})},{name:"L1i",symbols:["L1i_date",{literal:"/"},"L1i_date"],postprocess:interval(1)},{name:"L1i",symbols:["date_time",{literal:"/"},"L1i_date"],postprocess:interval(1)},{name:"L1i",symbols:["L1i_date",{literal:"/"},"date_time"],postprocess:interval(1)},{name:"L1i_date",symbols:[],postprocess:nothing},{name:"L1i_date",symbols:["date_ua"],postprocess:e},{name:"L1i_date",symbols:["INFINITY"],postprocess:e},{name:"INFINITY",symbols:[{literal:"*"}],postprocess:()=>1/0},{name:"L1X$string$1",symbols:[{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(t){return t.join("")}},{name:"L1X",symbols:["nd4",{literal:"-"},"md","L1X$string$1"],postprocess:masked()},{name:"L1X$string$2",symbols:[{literal:"-"},{literal:"X"},{literal:"X"},{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(t){return t.join("")}},{name:"L1X",symbols:["nd4","L1X$string$2"],postprocess:masked()},{name:"L1X$string$3",symbols:[{literal:"X"},{literal:"X"},{literal:"X"},{literal:"X"},{literal:"-"},{literal:"X"},{literal:"X"},{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(t){return t.join("")}},{name:"L1X",symbols:["L1X$string$3"],postprocess:masked()},{name:"L1X$string$4",symbols:[{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(t){return t.join("")}},{name:"L1X",symbols:["nd4","L1X$string$4"],postprocess:masked()},{name:"L1X$string$5",symbols:[{literal:"X"},{literal:"X"},{literal:"X"},{literal:"X"},{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(t){return t.join("")}},{name:"L1X",symbols:["L1X$string$5"],postprocess:masked()},{name:"L1X$string$6",symbols:[{literal:"X"},{literal:"X"}],postprocess:function(t){return t.join("")}},{name:"L1X",symbols:["nd2","L1X$string$6"],postprocess:masked()},{name:"L1X",symbols:["nd3",{literal:"X"}],postprocess:masked()},{name:"L1X$string$7",symbols:[{literal:"X"},{literal:"X"},{literal:"X"},{literal:"X"}],postprocess:function(t){return t.join("")}},{name:"L1X",symbols:["L1X$string$7"],postprocess:masked()},{name:"L1Y",symbols:[{literal:"Y"},"d5+"],postprocess:t=>year([num(t[1])],1)},{name:"L1Y$string$1",symbols:[{literal:"Y"},{literal:"-"}],postprocess:function(t){return t.join("")}},{name:"L1Y",symbols:["L1Y$string$1","d5+"],postprocess:t=>year([-num(t[1])],1)},{name:"UA",symbols:[{literal:"?"}],postprocess:()=>({uncertain:!0})},{name:"UA",symbols:[{literal:"~"}],postprocess:()=>({approximate:!0})},{name:"UA",symbols:[{literal:"%"}],postprocess:()=>({approximate:!0,uncertain:!0})},{name:"L1S",symbols:["year",{literal:"-"},"d21_24"],postprocess:t=>season(t,1)},{name:"L2",symbols:["L2d"],postprocess:e},{name:"L2",symbols:["L2Y"],postprocess:e},{name:"L2",symbols:["L2S"],postprocess:e},{name:"L2",symbols:["L2D"],postprocess:e},{name:"L2",symbols:["L2i"],postprocess:e},{name:"L2",symbols:["set"],postprocess:e},{name:"L2",symbols:["list"],postprocess:e},{name:"L2d",symbols:["ua_date"],postprocess:e},{name:"L2d",symbols:["L2X"],postprocess:merge(0,{type:"Date",level:2})},{name:"L2D",symbols:["decade"],postprocess:e},{name:"L2D",symbols:["decade","UA"],postprocess:merge(0,1)},{name:"ua_date",symbols:["ua_year"],postprocess:qualify},{name:"ua_date",symbols:["ua_year_month"],postprocess:qualify},{name:"ua_date",symbols:["ua_year_month_day"],postprocess:qualify},{name:"ua_year",symbols:["UA","year"],postprocess:t=>[t]},{name:"ua_year_month$macrocall$2",symbols:["year"]},{name:"ua_year_month$macrocall$1$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_year_month$macrocall$1$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_year_month$macrocall$1$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_year_month$macrocall$1$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_year_month$macrocall$1",symbols:["ua_year_month$macrocall$1$ebnf$1","ua_year_month$macrocall$2","ua_year_month$macrocall$1$ebnf$2"]},{name:"ua_year_month$macrocall$4",symbols:["month"]},{name:"ua_year_month$macrocall$3$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_year_month$macrocall$3$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_year_month$macrocall$3$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_year_month$macrocall$3$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_year_month$macrocall$3",symbols:["ua_year_month$macrocall$3$ebnf$1","ua_year_month$macrocall$4","ua_year_month$macrocall$3$ebnf$2"]},{name:"ua_year_month",symbols:["ua_year_month$macrocall$1",{literal:"-"},"ua_year_month$macrocall$3"],postprocess:pluck(0,2)},{name:"ua_year_month_day$macrocall$2",symbols:["year"]},{name:"ua_year_month_day$macrocall$1$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_year_month_day$macrocall$1$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_year_month_day$macrocall$1$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_year_month_day$macrocall$1$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_year_month_day$macrocall$1",symbols:["ua_year_month_day$macrocall$1$ebnf$1","ua_year_month_day$macrocall$2","ua_year_month_day$macrocall$1$ebnf$2"]},{name:"ua_year_month_day",symbols:["ua_year_month_day$macrocall$1",{literal:"-"},"ua_month_day"],postprocess:t=>[t[0],...t[2]]},{name:"ua_month_day$macrocall$2",symbols:["m31"]},{name:"ua_month_day$macrocall$1$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$1$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$1$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$1$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$1",symbols:["ua_month_day$macrocall$1$ebnf$1","ua_month_day$macrocall$2","ua_month_day$macrocall$1$ebnf$2"]},{name:"ua_month_day$macrocall$4",symbols:["day"]},{name:"ua_month_day$macrocall$3$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$3$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$3$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$3$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$3",symbols:["ua_month_day$macrocall$3$ebnf$1","ua_month_day$macrocall$4","ua_month_day$macrocall$3$ebnf$2"]},{name:"ua_month_day",symbols:["ua_month_day$macrocall$1",{literal:"-"},"ua_month_day$macrocall$3"],postprocess:pluck(0,2)},{name:"ua_month_day$macrocall$6",symbols:["m30"]},{name:"ua_month_day$macrocall$5$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$5$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$5$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$5$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$5",symbols:["ua_month_day$macrocall$5$ebnf$1","ua_month_day$macrocall$6","ua_month_day$macrocall$5$ebnf$2"]},{name:"ua_month_day$macrocall$8",symbols:["d01_30"]},{name:"ua_month_day$macrocall$7$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$7$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$7$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$7$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$7",symbols:["ua_month_day$macrocall$7$ebnf$1","ua_month_day$macrocall$8","ua_month_day$macrocall$7$ebnf$2"]},{name:"ua_month_day",symbols:["ua_month_day$macrocall$5",{literal:"-"},"ua_month_day$macrocall$7"],postprocess:pluck(0,2)},{name:"ua_month_day$macrocall$10$string$1",symbols:[{literal:"0"},{literal:"2"}],postprocess:function(t){return t.join("")}},{name:"ua_month_day$macrocall$10",symbols:["ua_month_day$macrocall$10$string$1"]},{name:"ua_month_day$macrocall$9$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$9$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$9$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$9$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$9",symbols:["ua_month_day$macrocall$9$ebnf$1","ua_month_day$macrocall$10","ua_month_day$macrocall$9$ebnf$2"]},{name:"ua_month_day$macrocall$12",symbols:["d01_29"]},{name:"ua_month_day$macrocall$11$ebnf$1",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$11$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$11$ebnf$2",symbols:["UA"],postprocess:e},{name:"ua_month_day$macrocall$11$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"ua_month_day$macrocall$11",symbols:["ua_month_day$macrocall$11$ebnf$1","ua_month_day$macrocall$12","ua_month_day$macrocall$11$ebnf$2"]},{name:"ua_month_day",symbols:["ua_month_day$macrocall$9",{literal:"-"},"ua_month_day$macrocall$11"],postprocess:pluck(0,2)},{name:"L2X",symbols:["dx4"],postprocess:masked()},{name:"L2X",symbols:["dx4",{literal:"-"},"mx"],postprocess:masked()},{name:"L2X",symbols:["dx4",{literal:"-"},"mdx"],postprocess:masked()},{name:"mdx",symbols:["m31x",{literal:"-"},"d31x"],postprocess:join},{name:"mdx",symbols:["m30x",{literal:"-"},"d30x"],postprocess:join},{name:"mdx$string$1",symbols:[{literal:"0"},{literal:"2"},{literal:"-"}],postprocess:function(t){return t.join("")}},{name:"mdx",symbols:["mdx$string$1","d29x"],postprocess:join},{name:"L2i",symbols:["L2i_date",{literal:"/"},"L2i_date"],postprocess:interval(2)},{name:"L2i",symbols:["date_time",{literal:"/"},"L2i_date"],postprocess:interval(2)},{name:"L2i",symbols:["L2i_date",{literal:"/"},"date_time"],postprocess:interval(2)},{name:"L2i_date",symbols:[],postprocess:nothing},{name:"L2i_date",symbols:["ua_date"],postprocess:e},{name:"L2i_date",symbols:["L2X"],postprocess:e},{name:"L2i_date",symbols:["INFINITY"],postprocess:e},{name:"L2Y",symbols:["exp_year"],postprocess:e},{name:"L2Y",symbols:["exp_year","significant_digits"],postprocess:merge(0,1)},{name:"L2Y",symbols:["L1Y","significant_digits"],postprocess:merge(0,1,{level:2})},{name:"L2Y",symbols:["year","significant_digits"],postprocess:t=>year([t[0]],2,t[1])},{name:"significant_digits",symbols:[{literal:"S"},"positive_digit"],postprocess:t=>({significant:num(t[1])})},{name:"exp_year",symbols:[{literal:"Y"},"exp"],postprocess:t=>year([t[1]],2)},{name:"exp_year$string$1",symbols:[{literal:"Y"},{literal:"-"}],postprocess:function(t){return t.join("")}},{name:"exp_year",symbols:["exp_year$string$1","exp"],postprocess:t=>year([-t[1]],2)},{name:"exp",symbols:["digits",{literal:"E"},"digits"],postprocess:t=>num(t[0])*Math.pow(10,num(t[2]))},{name:"L2S",symbols:["year",{literal:"-"},"d25_41"],postprocess:t=>season(t,2)},{name:"decade",symbols:["positive_decade"],postprocess:t=>decade(t[0])},{name:"decade$string$1",symbols:[{literal:"0"},{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"decade",symbols:["decade$string$1"],postprocess:()=>decade(0)},{name:"decade",symbols:[{literal:"-"},"positive_decade"],postprocess:t=>decade(-t[1])},{name:"positive_decade",symbols:["positive_digit","digit","digit"],postprocess:num},{name:"positive_decade",symbols:[{literal:"0"},"positive_digit","digit"],postprocess:num},{name:"positive_decade$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"positive_decade",symbols:["positive_decade$string$1","positive_digit"],postprocess:num},{name:"set",symbols:["LSB","OL","RSB"],postprocess:list},{name:"list",symbols:["LLB","OL","RLB"],postprocess:list},{name:"LSB",symbols:[{literal:"["}],postprocess:()=>({type:"Set"})},{name:"LSB$string$1",symbols:[{literal:"["},{literal:"."},{literal:"."}],postprocess:function(t){return t.join("")}},{name:"LSB",symbols:["LSB$string$1"],postprocess:()=>({type:"Set",earlier:!0})},{name:"LLB",symbols:[{literal:"{"}],postprocess:()=>({type:"List"})},{name:"RSB",symbols:[{literal:"]"}],postprocess:nothing},{name:"RSB$string$1",symbols:[{literal:"."},{literal:"."},{literal:"]"}],postprocess:function(t){return t.join("")}},{name:"RSB",symbols:["RSB$string$1"],postprocess:()=>({later:!0})},{name:"RLB",symbols:[{literal:"}"}],postprocess:nothing},{name:"OL",symbols:["LI"],postprocess:t=>[t[0]]},{name:"OL",symbols:["OL","_",{literal:","},"_","LI"],postprocess:t=>[...t[0],t[4]]},{name:"LI",symbols:["date"],postprocess:e},{name:"LI",symbols:["ua_date"],postprocess:e},{name:"LI",symbols:["L2X"],postprocess:e},{name:"LI",symbols:["consecutives"],postprocess:e},{name:"consecutives$string$1",symbols:[{literal:"."},{literal:"."}],postprocess:function(t){return t.join("")}},{name:"consecutives",symbols:["year_month_day","consecutives$string$1","year_month_day"],postprocess:t=>[date(t[0]),date(t[2])]},{name:"consecutives$string$2",symbols:[{literal:"."},{literal:"."}],postprocess:function(t){return t.join("")}},{name:"consecutives",symbols:["year_month","consecutives$string$2","year_month"],postprocess:t=>[date(t[0]),date(t[2])]},{name:"consecutives$string$3",symbols:[{literal:"."},{literal:"."}],postprocess:function(t){return t.join("")}},{name:"consecutives",symbols:["year","consecutives$string$3","year"],postprocess:t=>[date([t[0]]),date([t[2]])]},{name:"L3",symbols:["L3i"],postprocess:e},{name:"L3i",symbols:["L3S",{literal:"/"},"L3S"],postprocess:interval(3)},{name:"L3i",symbols:["L3S",{literal:"/"},"L3i_date"],postprocess:interval(3)},{name:"L3i",symbols:["L3i_date",{literal:"/"},"L3S"],postprocess:interval(3)},{name:"L3i_date",symbols:["date_time"],postprocess:e},{name:"L3i_date",symbols:["L2i_date"],postprocess:e},{name:"L3S",symbols:["L1S"],postprocess:e},{name:"L3S",symbols:["L2S"],postprocess:e},{name:"digit",symbols:["positive_digit"],postprocess:e},{name:"digit",symbols:[{literal:"0"}],postprocess:e},{name:"digits",symbols:["digit"],postprocess:e},{name:"digits",symbols:["digits","digit"],postprocess:join},{name:"nd4",symbols:["d4"]},{name:"nd4",symbols:[{literal:"-"},"d4"],postprocess:join},{name:"nd3",symbols:["d3"]},{name:"nd3",symbols:[{literal:"-"},"d3"],postprocess:join},{name:"nd2",symbols:["d2"]},{name:"nd2",symbols:[{literal:"-"},"d2"],postprocess:join},{name:"d4",symbols:["d2","d2"],postprocess:join},{name:"d3",symbols:["d2","digit"],postprocess:join},{name:"d2",symbols:["digit","digit"],postprocess:join},{name:"d5+",symbols:["positive_digit","d3","digits"],postprocess:num},{name:"d1x",symbols:[/[1-9X]/],postprocess:e},{name:"dx",symbols:["d1x"],postprocess:e},{name:"dx",symbols:[{literal:"0"}],postprocess:e},{name:"dx2",symbols:["dx","dx"],postprocess:join},{name:"dx4",symbols:["dx2","dx2"],postprocess:join},{name:"dx4",symbols:[{literal:"-"},"dx2","dx2"],postprocess:join},{name:"md",symbols:["m31"],postprocess:e},{name:"md",symbols:["m30"],postprocess:e},{name:"md$string$1",symbols:[{literal:"0"},{literal:"2"}],postprocess:function(t){return t.join("")}},{name:"md",symbols:["md$string$1"],postprocess:e},{name:"mx",symbols:[{literal:"0"},"d1x"],postprocess:join},{name:"mx",symbols:[/[1X]/,/[012X]/],postprocess:join},{name:"m31x",symbols:[/[0X]/,/[13578X]/],postprocess:join},{name:"m31x",symbols:[/[1X]/,/[02]/],postprocess:join},{name:"m31x$string$1",symbols:[{literal:"1"},{literal:"X"}],postprocess:function(t){return t.join("")}},{name:"m31x",symbols:["m31x$string$1"],postprocess:e},{name:"m30x",symbols:[/[0X]/,/[469]/],postprocess:join},{name:"m30x$string$1",symbols:[{literal:"1"},{literal:"1"}],postprocess:function(t){return t.join("")}},{name:"m30x",symbols:["m30x$string$1"],postprocess:join},{name:"d29x",symbols:[{literal:"0"},"d1x"],postprocess:join},{name:"d29x",symbols:[/[1-2X]/,"dx"],postprocess:join},{name:"d30x",symbols:["d29x"],postprocess:join},{name:"d30x$string$1",symbols:[{literal:"3"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"d30x",symbols:["d30x$string$1"],postprocess:e},{name:"d31x",symbols:["d30x"],postprocess:e},{name:"d31x",symbols:[{literal:"3"},/[1X]/],postprocess:join},{name:"positive_digit",symbols:[/[1-9]/],postprocess:e},{name:"m31$subexpression$1$string$1",symbols:[{literal:"0"},{literal:"1"}],postprocess:function(t){return t.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$1"]},{name:"m31$subexpression$1$string$2",symbols:[{literal:"0"},{literal:"3"}],postprocess:function(t){return t.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$2"]},{name:"m31$subexpression$1$string$3",symbols:[{literal:"0"},{literal:"5"}],postprocess:function(t){return t.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$3"]},{name:"m31$subexpression$1$string$4",symbols:[{literal:"0"},{literal:"7"}],postprocess:function(t){return t.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$4"]},{name:"m31$subexpression$1$string$5",symbols:[{literal:"0"},{literal:"8"}],postprocess:function(t){return t.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$5"]},{name:"m31$subexpression$1$string$6",symbols:[{literal:"1"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$6"]},{name:"m31$subexpression$1$string$7",symbols:[{literal:"1"},{literal:"2"}],postprocess:function(t){return t.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$7"]},{name:"m31",symbols:["m31$subexpression$1"],postprocess:e},{name:"m30$subexpression$1$string$1",symbols:[{literal:"0"},{literal:"4"}],postprocess:function(t){return t.join("")}},{name:"m30$subexpression$1",symbols:["m30$subexpression$1$string$1"]},{name:"m30$subexpression$1$string$2",symbols:[{literal:"0"},{literal:"6"}],postprocess:function(t){return t.join("")}},{name:"m30$subexpression$1",symbols:["m30$subexpression$1$string$2"]},{name:"m30$subexpression$1$string$3",symbols:[{literal:"0"},{literal:"9"}],postprocess:function(t){return t.join("")}},{name:"m30$subexpression$1",symbols:["m30$subexpression$1$string$3"]},{name:"m30$subexpression$1$string$4",symbols:[{literal:"1"},{literal:"1"}],postprocess:function(t){return t.join("")}},{name:"m30$subexpression$1",symbols:["m30$subexpression$1$string$4"]},{name:"m30",symbols:["m30$subexpression$1"],postprocess:e},{name:"d01_11",symbols:[{literal:"0"},"positive_digit"],postprocess:join},{name:"d01_11",symbols:[{literal:"1"},/[0-1]/],postprocess:join},{name:"d01_12",symbols:["d01_11"],postprocess:e},{name:"d01_12$string$1",symbols:[{literal:"1"},{literal:"2"}],postprocess:function(t){return t.join("")}},{name:"d01_12",symbols:["d01_12$string$1"],postprocess:e},{name:"d01_13",symbols:["d01_12"],postprocess:e},{name:"d01_13$string$1",symbols:[{literal:"1"},{literal:"3"}],postprocess:function(t){return t.join("")}},{name:"d01_13",symbols:["d01_13$string$1"],postprocess:e},{name:"d00_14$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"d00_14",symbols:["d00_14$string$1"],postprocess:e},{name:"d00_14",symbols:["d01_13"],postprocess:e},{name:"d00_14$string$2",symbols:[{literal:"1"},{literal:"4"}],postprocess:function(t){return t.join("")}},{name:"d00_14",symbols:["d00_14$string$2"],postprocess:e},{name:"d00_23$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"d00_23",symbols:["d00_23$string$1"],postprocess:e},{name:"d00_23",symbols:["d01_23"],postprocess:e},{name:"d01_23",symbols:[{literal:"0"},"positive_digit"],postprocess:join},{name:"d01_23",symbols:[{literal:"1"},"digit"],postprocess:join},{name:"d01_23",symbols:[{literal:"2"},/[0-3]/],postprocess:join},{name:"d01_29",symbols:[{literal:"0"},"positive_digit"],postprocess:join},{name:"d01_29",symbols:[/[1-2]/,"digit"],postprocess:join},{name:"d01_30",symbols:["d01_29"],postprocess:e},{name:"d01_30$string$1",symbols:[{literal:"3"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"d01_30",symbols:["d01_30$string$1"],postprocess:e},{name:"d01_31",symbols:["d01_30"],postprocess:e},{name:"d01_31$string$1",symbols:[{literal:"3"},{literal:"1"}],postprocess:function(t){return t.join("")}},{name:"d01_31",symbols:["d01_31$string$1"],postprocess:e},{name:"d00_59$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(t){return t.join("")}},{name:"d00_59",symbols:["d00_59$string$1"],postprocess:e},{name:"d00_59",symbols:["d01_59"],postprocess:e},{name:"d01_59",symbols:["d01_29"],postprocess:e},{name:"d01_59",symbols:[/[345]/,"digit"],postprocess:join},{name:"d21_24",symbols:[{literal:"2"},/[1-4]/],postprocess:join},{name:"d25_41",symbols:[{literal:"2"},/[5-9]/],postprocess:join},{name:"d25_41",symbols:[{literal:"3"},"digit"],postprocess:join},{name:"d25_41",symbols:[{literal:"4"},/[01]/],postprocess:join},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",{literal:" "}],postprocess:function(t){return t[0].concat([t[1]])}},{name:"_",symbols:["_$ebnf$1"]}],ParserStart:"edtf"};t.exports=n}()}),er=e(function(t){function e(t,e){return t.level<e.level?-1:t.level>e.level?1:0}function n(t,{level:level,types:types}=o){return t.length?("number"!=typeof level&&(level=o.level),t.filter(t=>level>=t.level&&(!types||types.includes(t.type)))):t}function r(t){return t.length<2?t[0]:t.sort(e)[0]}const o={level:2,types:[]};t.exports={defaults:o,parse(e,o={}){try{let i=t.exports.parser(),s=r(n(i.feed(e).results,o));if(!s)throw new Error("edtf: No possible parsings (@EOS)");return s}catch(t){throw t.message+=` for "${e}"`,t}},parser(){return new Jn.Parser(tr.ParserRules,tr.ParserStart)}}});er.defaults,er.parse,er.parser;const{parse:parse}=er;class nr{static get type(){return this.name}static parse(t){return parse(t,{types:[this.type]})}static from(t){return t instanceof this?t:new this(t)}static UTC(...t){let e=Date.UTC(...t);return t[0]>=0&&t[0]<100&&(e=se(new Date(e))),e}get type(){return this.constructor.type}get edtf(){return this.toEDTF()}get isEDTF(){return!0}toJSON(){return this.toEDTF()}toString(){return this.toEDTF()}toLocaleString(...t){return this.localize(...t)}inspect(){return this.toEDTF()}valueOf(){return this.min}[Symbol.toPrimitive](t){return"number"===t?this.valueOf():this.toEDTF()}covers(t){return this.min<=t.min&&this.max>=t.max}compare(t){if(null==t.min||null==t.max)return null;let[e,n,r,o]=[this.min,this.max,t.min,t.max];return e!==r?e<r?-1:1:n!==o?n<o?-1:1:0}includes(t){let e=this.covers(t);if(!e||!this[Symbol.iterator])return e;for(let e of this)if(e.edtf===t.edtf)return!0;return!1}*until(t){yield this,this.compare(t)&&(yield*this.between(t))}*through(t){yield*this.until(t),this.compare(t)&&(yield t)}*between(t){t=this.constructor.from(t);let e=this,n=this.compare(t);if(n)for(;(e=e.next(-n)).compare(t)===n;)yield e}}var rr=nr;const or=Reflect.ownKeys.bind(Reflect),ir=Object.getOwnPropertyDescriptor.bind(Object),sr=Object.defineProperty.bind(Object);var ar=ae,lr={approximate:{long:"circa %D",medium:"ca. %D",short:"c. %D"},uncertain:{long:"%D (unspecified)",medium:"%D (?)",short:"%D (?)"}},ur={locale:"en-US",date:lr},cr=Object.freeze({locale:"en-US",date:lr,default:ur}),pr={approximate:{long:"circa %D",medium:"ca. %D",short:"ca. %D"},uncertain:{long:"%D (?)",medium:"%D (?)",short:"%D (?)"}},fr={locale:"de-DE",date:pr},mr=Object.freeze({locale:"de-DE",date:pr,default:fr}),dr={approximate:{long:"circa %D",medium:"ca. %D",short:"c. %D"},uncertain:{long:"%D (?)",medium:"%D (?)",short:"%D (?)"}},hr={locale:"fr-FR",date:dr},br=Object.freeze({locale:"fr-FR",date:dr,default:hr}),yr=cr&&ur||cr,gr=mr&&fr||mr,vr=br&&hr||br;const _r={};_r.en=yr,_r.de=gr,_r.fr=vr,ue("en","AU"),ue("de","AT"),ue("fr","CH");var $r=_r;const{assign:assign$1}=Object,xr={timeZone:"UTC",timeZoneName:void 0,hour:void 0,minute:void 0,second:void 0},wr=[{},assign$1({weekday:void 0,day:void 0,month:void 0},xr),assign$1({weekday:void 0,day:void 0},xr),assign$1({},xr)];var kr={getFormat:ce,format:me},Er=Vn&&Dt||Vn;const{format:format$2}=kr,{abs:abs}=Math,{isArray:isArray$2}=Array,Ar=new WeakMap,Rr=new WeakMap,Lr=new WeakMap,Sr=new WeakMap,Tr=[Un.YMD,Un.Y,Un.YM,Un.YMD];class jr extends we.Date{constructor(...t){let e,n,r,o=0;switch(t.length){case 0:break;case 1:switch(typeof t[0]){case"number":break;case"string":t=[jr.parse(t[0])];case"object":isArray$2(t[0])&&(t[0]={values:t[0]});{let i=t[0];if(Er(null!=i),i.type&&Er.equal("Date",i.type),i.values&&i.values.length){if(o=i.values.length,(t=i.values.slice()).length<2&&t.push(0),i.offset){for(t.length<3&&t.push(1);t.length<5;)t.push(0);t[4]=t[4]+i.offset}t=[rr.UTC(...t)]}({uncertain:e,approximate:n,unspecified:r}=i)}break;default:throw new RangeError("Invalid time value")}break;default:o=t.length}super(...t),this.precision=o,this.uncertain=e,this.approximate=n,this.unspecified=r}set precision(t){Ar.set(this,t>3?0:Number(t))}get precision(){return Ar.get(this)}set uncertain(t){Rr.set(this,this.bits(t))}get uncertain(){return Rr.get(this)}set approximate(t){Lr.set(this,this.bits(t))}get approximate(){return Lr.get(this)}set unspecified(t){Sr.set(this,new Un(t))}get unspecified(){return Sr.get(this)}get atomic(){return!(this.precision||this.unspecified.value)}get min(){return this.getTime()}get max(){return this.atomic?this.getTime():this.next()-1}get year(){return this.getUTCFullYear()}get month(){return this.getUTCMonth()}get date(){return this.getUTCDate()}get hours(){return this.getUTCHours()}get minutes(){return this.getUTCMinutes()}get seconds(){return this.getUTCSeconds()}get values(){switch(this.precision){case 1:return[this.year];case 2:return[this.year,this.month];case 3:return[this.year,this.month,this.date];default:return[this.year,this.month,this.date,this.hours,this.minutes,this.seconds]}}next(t=1){let{values:values,unspecified:unspecified,uncertain:uncertain,approximate:approximate}=this;return unspecified.value&&(values=unspecified.max(values.map(jr.pad))),values.push(values.pop()+t),new jr({values:values,unspecified:unspecified,uncertain:uncertain,approximate:approximate})}prev(t=1){return this.next(-t)}*[Symbol.iterator](){let t=this;for(;t<=this.max;)yield t,t=t.next()}toEDTF(){if(!this.precision)return this.toISOString();let t=this.year<0?"-":"",e=this.values.map(jr.pad);return this.unspecified.value?t+this.unspecified.masks(e).join("-"):(this.uncertain.value&&(e=this.uncertain.marks(e,"?")),this.approximate.value&&(e=this.approximate.marks(e,"~").map(t=>t.replace(/(~\?)|(\?~)/,"%"))),t+e.join("-"))}format(...t){return format$2(this,...t)}static pad(t,e=0){if(!e){let e=abs(t);return e<10?`000${e}`:e<100?`00${e}`:e<1e3?`0${e}`:`${e}`}return 1===e&&(t+=1),t<10?`0${t}`:`${t}`}bits(t){return!0===t&&(t=Tr[this.precision]),new Un(t)}}ar(jr,rr);var Or=jr;const{pad:pad$1}=Or,{abs:abs$1}=Math,Cr=new WeakMap,Ur=new WeakMap;class Dr extends rr{constructor(t){switch(super(),Cr.set(this,[]),typeof t){case"number":this.year=t;break;case"string":t=Dr.parse(t);case"object":Array.isArray(t)&&(t={values:t}),Er(null!==t),t.type&&Er.equal("Year",t.type),Er(t.values),Er(t.values.length),this.year=t.values[0],this.significant=t.significant;break;case"undefined":this.year=(new Date).getUTCFullYear();break;default:throw new RangeError("Invalid year value")}}get year(){return this.values[0]}set year(t){return this.values[0]=Number(t)}get significant(){return Ur.get(this)}set significant(t){return Ur.set(this,Number(t))}get values(){return Cr.get(this)}get min(){return rr.UTC(this.year,0)}get max(){return rr.UTC(this.year+1,0)-1}toEDTF(){let t=abs$1(this.year),e=this.significant?`S${this.significant}`:"";return t<=9999?`${this.year<0?"-":""}${pad$1(this.year)}${e}`:`Y${this.year}${e}`}}var Ir=Dr;const{abs:abs$2,floor:floor$1}=Math,Yr=new WeakMap;class Pr extends rr{constructor(t){switch(super(),Yr.set(this,[]),this.uncertain=!1,this.approximate=!1,typeof t){case"number":this.decade=t;break;case"string":t=Pr.parse(t);case"object":Array.isArray(t)&&(t={values:t}),Er(null!==t),t.type&&Er.equal("Decade",t.type),Er(t.values),Er(1===t.values.length),this.decade=t.values[0],this.uncertain=!!t.uncertain,this.approximate=!!t.approximate;break;case"undefined":this.year=(new Date).getUTCFullYear();break;default:throw new RangeError("Invalid decade value")}}get decade(){return this.values[0]}set decade(t){return t=floor$1(Number(t)),Er(abs$2(t)<1e3,`invalid decade: ${t}`),this.values[0]=t}get year(){return 10*this.values[0]}set year(t){return this.decade=t/10}get values(){return Yr.get(this)}get min(){return Or.UTC(this.year,0)}get max(){return Or.UTC(this.year+10,0)-1}toEDTF(){let t=Pr.pad(this.decade);return this.uncertain&&(t+="?"),this.approximate&&(t=(t+"~").replace(/\?~/,"%")),t}static pad(t){let e=abs$2(t),n=e===t?"":"-";return e<10?`${n}00${e}`:e<100?`${n}0${e}`:`${t}`}}var Mr=Pr;const{abs:abs$3,floor:floor$2}=Math,Br=new WeakMap;class Nr extends rr{constructor(t){switch(super(),Br.set(this,[]),this.uncertain=!1,this.approximate=!1,typeof t){case"number":this.century=t;break;case"string":t=Nr.parse(t);case"object":Array.isArray(t)&&(t={values:t}),Er(null!==t),t.type&&Er.equal("Century",t.type),Er(t.values),Er(1===t.values.length),this.century=t.values[0],this.uncertain=!!t.uncertain,this.approximate=!!t.approximate;break;case"undefined":this.year=(new Date).getUTCFullYear();break;default:throw new RangeError("Invalid century value")}}get century(){return this.values[0]}set century(t){return t=floor$2(Number(t)),Er(abs$3(t)<100,`invalid century: ${t}`),this.values[0]=t}get year(){return 100*this.values[0]}set year(t){return this.century=t/100}get values(){return Br.get(this)}get min(){return Or.UTC(this.year,0)}get max(){return Or.UTC(this.year+100,0)-1}toEDTF(){let t=Nr.pad(this.century);return this.uncertain&&(t+="?"),this.approximate&&(t=(t+"~").replace(/\?~/,"%")),t}static pad(t){let e=abs$3(t),n=e===t?"":"-";return e<10?`${n}0${e}`:`${t}`}}var Xr=Nr;const{pad:pad$2}=Or,qr=new WeakMap;class zr extends rr{constructor(t){switch(super(),qr.set(this,[]),typeof t){case"number":this.year=t,this.season=arguments[1]||21;break;case"string":t=zr.parse(t);case"object":Array.isArray(t)&&(t={values:t}),Er(null!==t),t.type&&Er.equal("Season",t.type),Er(t.values),Er.equal(2,t.values.length),this.year=t.values[0],this.season=t.values[1];break;case"undefined":this.year=(new Date).getUTCFullYear(),this.season=21;break;default:throw new RangeError("Invalid season value")}}get year(){return this.values[0]}set year(t){return this.values[0]=Number(t)}get season(){return this.values[1]}set season(t){return de(this.values[1]=Number(t))}get values(){return qr.get(this)}next(t=1){let{season:season,year:year}=this;switch(!0){case season>=21&&season<=36:[year,season]=he(year,season,t,season-(season-21)%4,4);break;case season>=37&&season<=39:[year,season]=he(year,season,t,37,3);break;case season>=40&&season<=41:[year,season]=he(year,season,t,40,2);break;default:throw new RangeError(`Cannot compute next/prev for season ${season}`)}return new zr(year,season)}prev(t=1){return this.next(-t)}get min(){switch(this.season){case 21:case 25:case 32:case 33:case 40:case 37:return rr.UTC(this.year,0);case 22:case 26:case 31:case 34:return rr.UTC(this.year,3);case 23:case 27:case 30:case 35:case 41:return rr.UTC(this.year,6);case 24:case 28:case 29:case 36:return rr.UTC(this.year,9);case 38:return rr.UTC(this.year,4);case 39:return rr.UTC(this.year,8);default:return rr.UTC(this.year,0)}}get max(){switch(this.season){case 21:case 25:case 32:case 33:return rr.UTC(this.year,3)-1;case 22:case 26:case 31:case 34:case 40:return rr.UTC(this.year,6)-1;case 23:case 27:case 30:case 35:return rr.UTC(this.year,9)-1;case 24:case 28:case 29:case 36:case 41:case 39:return rr.UTC(this.year+1,0)-1;case 37:return rr.UTC(this.year,5)-1;case 38:return rr.UTC(this.year,9)-1;default:return rr.UTC(this.year+1,0)-1}}toEDTF(){return`${this.year<0?"-":""}${pad$2(this.year)}-${this.season}`}}var Hr=zr;const Fr=new WeakMap;class Wr extends rr{constructor(...t){switch(super(),Fr.set(this,[null,null]),t.length){case 2:this.lower=t[0],this.upper=t[1];break;case 1:switch(typeof t[0]){case"string":t[0]=Wr.parse(t[0]);case"object":Array.isArray(t[0])&&(t[0]={values:t[0]});{let[e]=t;Er(null!==e),e.type&&Er.equal("Interval",e.type),Er(e.values),Er(e.values.length<3),this.lower=e.values[0],this.upper=e.values[1],this.earlier=e.earlier,this.later=e.later}break;default:this.lower=t[0]}break;case 0:break;default:throw new RangeError(`invalid interval value: ${t}`)}}get lower(){return this.values[0]}set lower(t){if(null==t)return this.values[1]=null;if(t===1/0||t===-1/0)return this.values[1]=1/0;if((t=be(t))>=this.upper&&null!=this.upper)throw new RangeError(`invalid lower bound: ${t}`);this.values[0]=t}get upper(){return this.values[1]}set upper(t){if(null==t)return this.values[1]=null;if(t===1/0)return this.values[1]=1/0;if((t=be(t))<=this.lower)throw new RangeError(`invalid upper bound: ${t}`);this.values[1]=t}get finite(){return null!=this.lower&&this.lower!==1/0&&null!=this.upper&&this.upper!==1/0}*[Symbol.iterator](){if(!this.finite)throw Error("cannot iterate infinite interval");yield*this.lower.through(this.upper)}get values(){return Fr.get(this)}get min(){let t=this.lower;return t?t===1/0?-1/0:t.min:null}get max(){let t=this.upper;return t?t===1/0?1/0:t.max:null}toEDTF(){return this.values.map(t=>{if(!t)return"";if(t===1/0)return"*";return t.edtf}).join("/")}}var Gr=Wr;const{isArray:isArray$3}=Array,Zr=new WeakMap;class Vr extends rr{constructor(...t){if(super(),Zr.set(this,[]),t.length>1&&(t=[t]),t.length)switch(typeof t[0]){case"string":t[0]=new.target.parse(t[0]);case"object":isArray$3(t[0])&&(t[0]={values:t[0]});{let[e]=t;Er(null!==e),e.type&&Er.equal(this.type,e.type),Er(e.values),this.concat(...e.values)}break;default:throw new RangeError(`invalid ${this.type} value: ${t}`)}}get values(){return Zr.get(this)}get length(){return this.values.length}get empty(){return 0===this.length}get first(){let t=this.values[0];return isArray$3(t)?t[0]:t}get last(){let t=this.values[this.length-1];return isArray$3(t)?t[0]:t}clear(){return this.values.length=0,this}concat(...t){for(let e of t)this.push(e);return this}push(t){return isArray$3(t)?(Er.equal(2,t.length),this.values.push(t.map(t=>Or.from(t)))):this.values.push(Or.from(t))}*[Symbol.iterator](){for(let t of this.values)isArray$3(t)?yield*t[0].through(t[1]):yield t}get min(){return this.empty?0:this.first.min}get max(){return this.empty?0:this.last.max}content(){return this.values.map(t=>isArray$3(t)?t.map(t=>t.edtf).join(".."):t.edtf).join(",")}toEDTF(){return`{${this.content()}}`}}var Jr=Vr;const{parse:parse$1}=er;class Kr extends Jr{static parse(t){return parse$1(t,{types:["Set"]})}constructor(t){super(...arguments),t&&"object"==typeof t&&(this.earlier=!!t.earlier,this.later=!!t.later)}get type(){return"Set"}get min(){return this.earlier?-1/0:super.min}get max(){return this.later?1/0:super.max}toEDTF(){return this.empty?"[]":[this.earlier?"[..":"[",this.content(),this.later?"..]":"]"].join("")}}var Qr={Date:Or,Year:Ir,Decade:Mr,Century:Xr,Season:Hr,Interval:Gr,List:Jr,Set:Kr},to={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7},eo=function(){return[{type:to.RANGE,from:48,to:57}]},no=function(){return[{type:to.CHAR,value:95},{type:to.RANGE,from:97,to:122},{type:to.RANGE,from:65,to:90}].concat(eo())},ro=function(){return[{type:to.CHAR,value:9},{type:to.CHAR,value:10},{type:to.CHAR,value:11},{type:to.CHAR,value:12},{type:to.CHAR,value:13},{type:to.CHAR,value:32},{type:to.CHAR,value:160},{type:to.CHAR,value:5760},{type:to.CHAR,value:6158},{type:to.CHAR,value:8192},{type:to.CHAR,value:8193},{type:to.CHAR,value:8194},{type:to.CHAR,value:8195},{type:to.CHAR,value:8196},{type:to.CHAR,value:8197},{type:to.CHAR,value:8198},{type:to.CHAR,value:8199},{type:to.CHAR,value:8200},{type:to.CHAR,value:8201},{type:to.CHAR,value:8202},{type:to.CHAR,value:8232},{type:to.CHAR,value:8233},{type:to.CHAR,value:8239},{type:to.CHAR,value:8287},{type:to.CHAR,value:12288},{type:to.CHAR,value:65279}]},oo=function(){return[{type:to.CHAR,value:10},{type:to.CHAR,value:13},{type:to.CHAR,value:8232},{type:to.CHAR,value:8233}]},io={words:function(){return{type:to.SET,set:no(),not:!1}},notWords:function(){return{type:to.SET,set:no(),not:!0}},ints:function(){return{type:to.SET,set:eo(),not:!1}},notInts:function(){return{type:to.SET,set:eo(),not:!0}},whitespace:function(){return{type:to.SET,set:ro(),not:!1}},notWhitespace:function(){return{type:to.SET,set:ro(),not:!0}},anyChar:function(){return{type:to.SET,set:oo(),not:!0}}},so=e(function(t,e){var n={0:0,t:9,n:10,v:11,f:12,r:13};e.strToChars=function(t){return t=t.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,function(t,e,r,o,i,s,a,l){if(r)return t;var u=e?8:o?parseInt(o,16):i?parseInt(i,16):s?parseInt(s,8):a?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(a):n[l],c=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(c)&&(c="\\"+c),c})},e.tokenizeClass=function(t,n){for(var r,o,i=[],s=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(r=s.exec(t));)if(r[1])i.push(io.words());else if(r[2])i.push(io.ints());else if(r[3])i.push(io.whitespace());else if(r[4])i.push(io.notWords());else if(r[5])i.push(io.notInts());else if(r[6])i.push(io.notWhitespace());else if(r[7])i.push({type:to.RANGE,from:(r[8]||r[9]).charCodeAt(0),to:r[10].charCodeAt(0)});else{if(!(o=r[12]))return[i,s.lastIndex];i.push({type:to.CHAR,value:o.charCodeAt(0)})}e.error(n,"Unterminated character class")},e.error=function(t,e){throw new SyntaxError("Invalid regular expression: /"+t+"/: "+e)}}),ao=(so.strToChars,so.tokenizeClass,so.error,{wordBoundary:function(){return{type:to.POSITION,value:"b"}},nonWordBoundary:function(){return{type:to.POSITION,value:"B"}},begin:function(){return{type:to.POSITION,value:"^"}},end:function(){return{type:to.POSITION,value:"$"}}}),lo=function(t){var e,n,r=0,o={type:to.ROOT,stack:[]},i=o,s=o.stack,a=[],l=function(e){so.error(t,"Nothing to repeat at column "+(e-1))},u=so.strToChars(t);for(e=u.length;r<e;)switch(n=u[r++]){case"\\":switch(n=u[r++]){case"b":s.push(ao.wordBoundary());break;case"B":s.push(ao.nonWordBoundary());break;case"w":s.push(io.words());break;case"W":s.push(io.notWords());break;case"d":s.push(io.ints());break;case"D":s.push(io.notInts());break;case"s":s.push(io.whitespace());break;case"S":s.push(io.notWhitespace());break;default:/\d/.test(n)?s.push({type:to.REFERENCE,value:parseInt(n,10)}):s.push({type:to.CHAR,value:n.charCodeAt(0)})}break;case"^":s.push(ao.begin());break;case"$":s.push(ao.end());break;case"[":var c;"^"===u[r]?(c=!0,r++):c=!1;var p=so.tokenizeClass(u.slice(r),t);r+=p[1],s.push({type:to.SET,set:p[0],not:c});break;case".":s.push(io.anyChar());break;case"(":var f={type:to.GROUP,stack:[],remember:!0};"?"===(n=u[r])&&(n=u[r+1],r+=2,"="===n?f.followedBy=!0:"!"===n?f.notFollowedBy=!0:":"!==n&&so.error(t,"Invalid group, character '"+n+"' after '?' at column "+(r-1)),f.remember=!1),s.push(f),a.push(i),i=f,s=f.stack;break;case")":0===a.length&&so.error(t,"Unmatched ) at column "+(r-1)),s=(i=a.pop()).options?i.options[i.options.length-1]:i.stack;break;case"|":i.options||(i.options=[i.stack],delete i.stack);var m=[];i.options.push(m),s=m;break;case"{":var d,h,b=/^(\d+)(,(\d+)?)?\}/.exec(u.slice(r));null!==b?(0===s.length&&l(r),d=parseInt(b[1],10),h=b[2]?b[3]?parseInt(b[3],10):1/0:d,r+=b[0].length,s.push({type:to.REPETITION,min:d,max:h,value:s.pop()})):s.push({type:to.CHAR,value:123});break;case"?":0===s.length&&l(r),s.push({type:to.REPETITION,min:0,max:1,value:s.pop()});break;case"+":0===s.length&&l(r),s.push({type:to.REPETITION,min:1,max:1/0,value:s.pop()});break;case"*":0===s.length&&l(r),s.push({type:to.REPETITION,min:0,max:1/0,value:s.pop()});break;default:s.push({type:to.CHAR,value:n.charCodeAt(0)})}return 0!==a.length&&so.error(t,"Unterminated group"),o},uo=to;lo.types=uo,ye.prototype.overlaps=function(t){return!(this.high<t.low||this.low>t.high)},ye.prototype.touches=function(t){return!(this.high+1<t.low||this.low-1>t.high)},ye.prototype.add=function(t){return this.touches(t)&&new ye(Math.min(this.low,t.low),Math.max(this.high,t.high))},ye.prototype.subtract=function(t){return!!this.overlaps(t)&&(t.low<=this.low&&t.high>=this.high?[]:t.low>this.low&&t.high<this.high?[new ye(this.low,t.low-1),new ye(t.high+1,this.high)]:t.low<=this.low?[new ye(t.high+1,this.high)]:[new ye(this.low,t.low-1)])},ye.prototype.toString=function(){return this.low==this.high?this.low.toString():this.low+"-"+this.high},ye.prototype.clone=function(){return new ye(this.low,this.high)},ge.prototype.add=function(t,e){function n(t){for(var e=[],n=0;n<r.ranges.length&&!t.touches(r.ranges[n]);)e.push(r.ranges[n].clone()),n++;for(;n<r.ranges.length&&t.touches(r.ranges[n]);)t=t.add(r.ranges[n]),n++;for(e.push(t);n<r.ranges.length;)e.push(r.ranges[n].clone()),n++;r.ranges=e,ve(r)}var r=this;return t instanceof ge?t.ranges.forEach(n):t instanceof ye?n(t):(void 0===e&&(e=t),n(new ye(t,e))),this},ge.prototype.subtract=function(t,e){function n(t){for(var e=[],n=0;n<r.ranges.length&&!t.overlaps(r.ranges[n]);)e.push(r.ranges[n].clone()),n++;for(;n<r.ranges.length&&t.overlaps(r.ranges[n]);)e=e.concat(r.ranges[n].subtract(t)),n++;for(;n<r.ranges.length;)e.push(r.ranges[n].clone()),n++;r.ranges=e,ve(r)}var r=this;return t instanceof ge?t.ranges.forEach(n):t instanceof ye?n(t):(void 0===e&&(e=t),n(new ye(t,e))),this},ge.prototype.index=function(t){for(var e=0;e<this.ranges.length&&this.ranges[e].length<=t;)t-=this.ranges[e].length,e++;return e>=this.ranges.length?null:this.ranges[e].low+t},ge.prototype.toString=function(){return"[ "+this.ranges.join(", ")+" ]"},ge.prototype.clone=function(){return new ge(this)};var co=ge,po=e(function(t){function e(t){return t+(97<=t&&t<=122?-32:65<=t&&t<=90?32:0)}function n(){return!this.randInt(0,1)}function r(t){return t instanceof co?t.index(this.randInt(0,t.length-1)):t[this.randInt(0,t.length-1)]}function o(t){if(t.type===lo.types.CHAR)return new co(t.value);if(t.type===lo.types.RANGE)return new co(t.from,t.to);for(var n=new co,r=0;r<t.set.length;r++){var i=o.call(this,t.set[r]);if(n.add(i),this.ignoreCase)for(var s=0;s<i.length;s++){var a=i.index(s),l=e(a);a!==l&&n.add(l)}}return t.not?this.defaultRange.clone().subtract(n):n}function i(t,e){"number"==typeof e.max&&(t.max=e.max),e.defaultRange instanceof co&&(t.defaultRange=e.defaultRange),"function"==typeof e.randInt&&(t.randInt=e.randInt)}function s(t,i){var l,u,c,p,f;switch(t.type){case a.ROOT:case a.GROUP:if(t.followedBy||t.notFollowedBy)return"";for(t.remember&&void 0===t.groupNumber&&(t.groupNumber=i.push(null)-1),u="",p=0,f=(l=t.options?r.call(this,t.options):t.stack).length;p<f;p++)u+=s.call(this,l[p],i);return t.remember&&(i[t.groupNumber]=u),u;case a.POSITION:return"";case a.SET:var m=o.call(this,t);return m.length?String.fromCharCode(r.call(this,m)):"";case a.REPETITION:for(c=this.randInt(t.min,t.max===1/0?t.min+this.max:t.max),u="",p=0;p<c;p++)u+=s.call(this,t.value,i);return u;case a.REFERENCE:return i[t.value-1]||"";case a.CHAR:var d=this.ignoreCase&&n.call(this)?e(t.value):t.value;return String.fromCharCode(d)}}var a=lo.types,l=t.exports=function(t,e){if(this.defaultRange=this.defaultRange.clone(),t instanceof RegExp)this.ignoreCase=t.ignoreCase,this.multiline=t.multiline,i(this,t),t=t.source;else{if("string"!=typeof t)throw new Error("Expected a regexp or string");this.ignoreCase=e&&-1!==e.indexOf("i"),this.multiline=e&&-1!==e.indexOf("m")}this.tokens=lo(t)};l.prototype.max=100,l.prototype.gen=function(){return s.call(this,this.tokens,[])},l.randexp=function(t,e){var n;return void 0===t._randexp?(n=new l(t,e),t._randexp=n):n=t._randexp,i(n,t),n.gen()},l.sugar=function(){RegExp.prototype.gen=function(){return l.randexp(this)}},l.prototype.defaultRange=new co(32,126),l.prototype.randInt=function(t,e){return t+Math.floor(Math.random()*(1+e-t))}}),fo=e(function(t){const e=Object.keys(Qr),{ParserRules:Rules}=tr,{floor:floor,random:random}=Math,n=[{any:"L0",Date:"date_time",Century:"century",Interval:"L0i"},{any:"L1",Date:"L1d",Year:"L1Y",Season:"L1S",Interval:"L1i"},{any:"L2",Date:"L2s",Year:"L2Y",Season:"L2S",Interval:"L2i",Decade:"L2D",Set:"set",List:"list"}];t.exports={*sample({count:count,level:level,type:type}={}){let r="edtf";if("number"!=typeof count&&(count=1/0),Er(count>0,`invalid count ${count}`),void 0!==level&&(Er([0,1,2].includes(level),`invalid level ${level}`),void 0!==type&&Er(e.includes(type),`invalid type ${type}`),!(r=n[level][type||"any"])))throw new Error(`impossible to generate ${type} at level ${level}`);for(var o=0;o<count;++o)yield t.exports.gen(r)},gen(t="edtf"){let e=[],n=[t];for(;n.length>0;){let t=n.pop();if("string"!=typeof t)t.test?e.push(new po(t).gen()):t.literal&&e.push(t.literal);else{let e=Rules.filter(e=>e.name===t);if(!(e.length>0))throw new Error(`No match for rule "${t}"!`);{let t=e[floor(random()*e.length)];for(let e=t.symbols.length-1;e>=0;--e)n.push(t.symbols[e])}}}return e.join("").replace(/ +/g,"").replace(/-0000/,"0000")}}});fo.sample,fo.gen;const{sample:sample$2}=fo,{parse:parse$2,defaults:defaults}=er,{format:format$3}=kr,{assign:assign$2,keys:keys$4}=Object;var mo=assign$2(_e,Qr,{Bitmask:Un,defaults:defaults,parse:parse$2,sample:sample$2,format:format$3,types:keys$4(Qr)}),ho={strong:{open:"<b>",close:"</b>"},em:{open:"<i>",close:"</i>"},sub:{open:"<sub>",close:"</sub>"},sup:{open:"<sup>",close:"</sup>"},smallcaps:{open:'<span style="font-variant:small-caps;">',close:"</span>"},nocase:{open:'<span class="nocase">',close:"</span>"},enquote:{open:"“",close:"”"},url:{open:"",close:""},undefined:{open:"[",close:"]"}},bo=function(){function t(e,n){gn(this,t),this.bibDB=e,this.pks=n||yn(e),this.cslDB={},this.errors=[]}return xn(t,[{key:"getCSLEntry",value:function(t){var e=this,n=this.bibDB[t],r={};for(var o in n.fields)!function(t){if(""!==n.fields[t]&&t in kn&&"csl"in kn[t]){var o=n.fields[t],i=kn[t].type,s=kn[t].csl;switch(i){case"f_date":r[s]=e._reformDate(o);break;case"f_integer":r[s]=e._reformInteger(o);break;case"f_key":r[s]=e._reformKey(o,t);break;case"f_literal":case"f_long_literal":r[s]=e._reformText(o);break;case"l_range":r[s]=e._reformRange(o);break;case"f_title":r[s]=e._reformText(o);break;case"f_uri":case"f_verbatim":r[s]=o;break;case"l_key":r[s]=o.map(function(n){return e._reformKey(n,t)}).join(" and ");break;case"l_literal":r[s]=o.map(function(t){return e._reformText(t)}).join(", ");break;case"l_name":r[s]=e._reformName(o);break;case"l_tag":r[s]=o.join(", ");break;default:console.warn("Unrecognized type: "+i+"!")}}}(o);return r.type=En[n.bib_type].csl,r}},{key:"_reformKey",value:function(t,e){if("string"==typeof t){var n=kn[e];return Array.isArray(n.options)?t:n.options[t].csl}return this._reformText(t)}},{key:"_reformRange",value:function(t){var e=this;return t.map(function(t){return t.map(function(t){return e._reformText(t)}).join("--")}).join(",")}},{key:"_reformInteger",value:function(t){var e=this._reformText(t),n=parseInt(e);return e!==String(n)?e:n}},{key:"_reformText",value:function(t){var e=this,n="",r=[];return t.forEach(function(t){if("variable"===t.type)return n+=""+ho.undefined.open+t.attrs.variable+ho.undefined.close,void e.errors.push({type:"undefined_variable",variable:t.attrs.variable});var o=t.marks?t.marks.map(function(t){return t.type}):[],i=!1,s=[];r.forEach(function(t,e){t!=o[e]&&(i=!0),i&&s.push(ho[t].close)}),s.reverse(),n+=s.join("");var a=!1;o.forEach(function(t,e){t!=r[e]&&(a=!0),a&&(n+=ho[t].open)}),n+=t.text,r=o}),r.slice().reverse().forEach(function(t){n+=ho[t].close}),n}},{key:"_reformDate",value:function(t){var e=$e(t);return"Interval"===e.type?{"date-parts":[this._edtfToCSL(e.values[0].values.slice(0,3)),this._edtfToCSL(e.values[1].values.slice(0,3))]}:{"date-parts":[this._edtfToCSL(e.values.slice(0,3))]}}},{key:"_edtfToCSL",value:function(t){return t.length>1&&(t[1]=t[1]+1),t}},{key:"_reformName",value:function(t){var e=this;return t.map(function(t){var n={};return t.literal?n.literal=e._reformText(t.literal):(n.given=e._reformText(t.given),n.family=e._reformText(t.family),t.suffix&&(n.suffix=e._reformText(t.suffix)),t.prefix&&(!0===t.useprefix?n["non-dropping-particle"]=e._reformText(t.prefix):n["dropping-particle"]=e._reformText(t.prefix)),n.family=e._reformText(t.family)),n})}},{key:"output",get:function(){for(var t in this.bibDB)-1!==this.pks.indexOf(t)&&(this.cslDB[t]=this.getCSLEntry(t),this.cslDB[t].id=t);return this.cslDB}}]),t}();xe.CSLExporter=bo}();
