!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}var i="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},r=Object.freeze({default:a,__moduleExports:a}),o=r&&a||r,n=function(e){return Object(o(e))},l=Object.freeze({default:n,__moduleExports:n}),s={}.hasOwnProperty,u=function(e,t){return s.call(e,t)},d=Object.freeze({default:u,__moduleExports:u}),b={}.toString,p=function(e){return b.call(e).slice(8,-1)},c=Object.freeze({default:p,__moduleExports:p}),f=c&&p||c,g=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==f(e)?e.split(""):Object(e)},m=Object.freeze({default:g,__moduleExports:g}),h=m&&g||m,y=function(e){return h(o(e))},x=Object.freeze({default:y,__moduleExports:y}),_=Math.ceil,v=Math.floor,k=function(e){return isNaN(e=+e)?0:(e>0?v:_)(e)},w=Object.freeze({default:k,__moduleExports:k}),j=w&&k||w,O=Math.min,E=function(e){return e>0?O(j(e),9007199254740991):0},z=Object.freeze({default:E,__moduleExports:E}),q=Math.max,T=Math.min,S=function(e,t){return e=j(e),e<0?q(e+t,0):T(e,t)},P=Object.freeze({default:S,__moduleExports:S}),N=x&&y||x,M=z&&E||z,R=P&&S||P,A=function(e){return function(t,i,a){var r,o=N(t),n=M(o.length),l=R(a,n);if(e&&i!=i){for(;n>l;)if((r=o[l++])!=r)return!0}else for(;n>l;l++)if((e||l in o)&&o[l]===i)return e||l||0;return!e&&-1}},B=Object.freeze({default:A,__moduleExports:A}),I=t(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),U=Object.freeze({default:I,__moduleExports:I}),L=U&&I||U,F=L["__core-js_shared__"]||(L["__core-js_shared__"]={}),C=function(e){return F[e]||(F[e]={})},G=Object.freeze({default:C,__moduleExports:C}),D=0,X=Math.random(),K=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++D+X).toString(36))},H=Object.freeze({default:K,__moduleExports:K}),$=G&&C||G,V=H&&K||H,W=$("keys"),Z=function(e){return W[e]||(W[e]=V(e))},J=Object.freeze({default:Z,__moduleExports:Z}),Q=d&&u||d,Y=B&&A||B,ee=J&&Z||J,te=Y(!1),ie=ee("IE_PROTO"),ae=function(e,t){var i,a=N(e),r=0,o=[];for(i in a)i!=ie&&Q(a,i)&&o.push(i);for(;t.length>r;)Q(a,i=t[r++])&&(~te(o,i)||o.push(i));return o},re=Object.freeze({default:ae,__moduleExports:ae}),oe="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ne=Object.freeze({default:oe,__moduleExports:oe}),le=re&&ae||re,se=ne&&oe||ne,ue=Object.keys||function(e){return le(e,se)},de=Object.freeze({default:ue,__moduleExports:ue}),be=t(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),pe=be.version,ce=Object.freeze({default:be,__moduleExports:be,version:pe}),fe=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},ge=Object.freeze({default:fe,__moduleExports:fe}),me=ge&&fe||ge,he=function(e,t,i){if(me(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,a){return e.call(t,i,a)};case 3:return function(i,a,r){return e.call(t,i,a,r)}}return function(){return e.apply(t,arguments)}},ye=Object.freeze({default:he,__moduleExports:he}),xe=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_e=Object.freeze({default:xe,__moduleExports:xe}),ve=_e&&xe||_e,ke=function(e){if(!ve(e))throw TypeError(e+" is not an object!");return e},we=Object.freeze({default:ke,__moduleExports:ke}),je=function(e){try{return!!e()}catch(e){return!0}},Oe=Object.freeze({default:je,__moduleExports:je}),Ee=Oe&&je||Oe,ze=!Ee(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),qe=Object.freeze({default:ze,__moduleExports:ze}),Te=L.document,Se=ve(Te)&&ve(Te.createElement),Pe=function(e){return Se?Te.createElement(e):{}},Ne=Object.freeze({default:Pe,__moduleExports:Pe}),Me=qe&&ze||qe,Re=Ne&&Pe||Ne,Ae=!Me&&!Ee(function(){return 7!=Object.defineProperty(Re("div"),"a",{get:function(){return 7}}).a}),Be=Object.freeze({default:Ae,__moduleExports:Ae}),Ie=function(e,t){if(!ve(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!ve(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!ve(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!ve(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")},Ue=Object.freeze({default:Ie,__moduleExports:Ie}),Le=we&&ke||we,Fe=Be&&Ae||Be,Ce=Ue&&Ie||Ue,Ge=Object.defineProperty,De=Me?Object.defineProperty:function(e,t,i){if(Le(e),t=Ce(t,!0),Le(i),Fe)try{return Ge(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e},Xe={f:De},Ke=Object.freeze({default:Xe,__moduleExports:Xe,f:De}),He=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},$e=Object.freeze({default:He,__moduleExports:He}),Ve=Ke&&Xe||Ke,We=$e&&He||$e,Ze=Me?function(e,t,i){return Ve.f(e,t,We(1,i))}:function(e,t,i){return e[t]=i,e},Je=Object.freeze({default:Ze,__moduleExports:Ze}),Qe=ce&&be||ce,Ye=ye&&he||ye,et=Je&&Ze||Je,tt=function(e,t,i){var a,r,o,n=e&tt.F,l=e&tt.G,s=e&tt.S,u=e&tt.P,d=e&tt.B,b=e&tt.W,p=l?Qe:Qe[t]||(Qe[t]={}),c=p.prototype,f=l?L:s?L[t]:(L[t]||{}).prototype;l&&(i=t);for(a in i)(r=!n&&f&&void 0!==f[a])&&Q(p,a)||(o=r?f[a]:i[a],p[a]=l&&"function"!=typeof f[a]?i[a]:d&&r?Ye(o,L):b&&f[a]==o?function(e){var t=function(t,i,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(o):u&&"function"==typeof o?Ye(Function.call,o):o,u&&((p.virtual||(p.virtual={}))[a]=o,e&tt.R&&c&&!c[a]&&et(c,a,o)))};tt.F=1,tt.G=2,tt.S=4,tt.P=8,tt.B=16,tt.W=32,tt.U=64,tt.R=128;var it=tt,at=Object.freeze({default:it,__moduleExports:it}),rt=at&&it||at,ot=function(e,t){var i=(Qe.Object||{})[e]||Object[e],a={};a[e]=t(i),rt(rt.S+rt.F*Ee(function(){i(1)}),"Object",a)},nt=Object.freeze({default:ot,__moduleExports:ot}),lt=l&&n||l,st=de&&ue||de;(nt&&ot||nt)("keys",function(){return function(e){return st(lt(e))}});var ut=Qe.Object.keys,dt=Object.freeze({default:ut,__moduleExports:ut}),bt=dt&&ut||dt,pt=e(t(function(e){e.exports={default:bt,__esModule:!0}})),ct=e(t(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}));rt(rt.S+rt.F*!Me,"Object",{defineProperty:Ve.f});var ft=Qe.Object,gt=function(e,t,i){return ft.defineProperty(e,t,i)},mt=Object.freeze({default:gt,__moduleExports:gt}),ht=mt&&gt||mt,yt=t(function(e){e.exports={default:ht,__esModule:!0}}),xt=e(yt),_t=Object.freeze({default:xt,__moduleExports:yt}),vt=_t&&xt||_t,kt=e(t(function(e,t){t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(vt);t.default=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}()})),wt=[[/\\/g,"\\textbackslash "],[/\{/g,"\\{ "],[/\}/g,"\\} "],[/&/g,"{\\&}"],[/%/g,"{\\%}"],[/\$/g,"{\\$}"],[/#/g,"{\\#}"],[/_/g,"{\\_}"],[/~/g,"{\\textasciitilde}"],[/\^/g,"{\\textasciicircum}"],[/ and /g," {and} "]],jt=["catalan","croatian","czech","danish","dutch","english","american","finnish","french","german","greek","italian","latin","norwegian","polish","portuguese","brazilian","russian","slovene","spanish","swedish"],Ot={abstract:{type:"f_long_literal",biblatex:"abstract",csl:"abstract"},addendum:{type:"f_literal",biblatex:"addendum"},afterword:{type:"l_name",biblatex:"afterword"},annotation:{type:"f_long_literal",biblatex:"annotation"},annotator:{type:"l_name",biblatex:"annotator"},author:{type:"l_name",biblatex:"author",csl:"author"},bookauthor:{type:"l_name",biblatex:"bookauthor",csl:"container-author"},bookpagination:{type:"f_key",biblatex:"bookpagination",options:["page","column","section","paragraph","verse","line"]},booksubtitle:{type:"f_title",biblatex:"booksubtitle"},booktitle:{type:"f_title",biblatex:"booktitle",csl:"container-title"},booktitleaddon:{type:"f_title",biblatex:"booktitleaddon"},chapter:{type:"f_literal",biblatex:"chapter",csl:"chapter-number"},commentator:{type:"l_name",biblatex:"commentator"},date:{type:"f_date",biblatex:"date",csl:"issued"},doi:{type:"f_verbatim",biblatex:"doi",csl:"DOI"},edition:{type:"f_integer",biblatex:"edition",csl:"edition"},editor:{type:"l_name",biblatex:"editor",csl:"editor"},editora:{type:"l_name",biblatex:"editora"},editorb:{type:"l_name",biblatex:"editorb"},editorc:{type:"l_name",biblatex:"editorc"},editortype:{type:"f_key",biblatex:"editortype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editoratype:{type:"f_key",biblatex:"editoratype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editorbtype:{type:"f_key",biblatex:"editorbtype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editorctype:{type:"f_key",biblatex:"editorctype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},eid:{type:"f_literal",biblatex:"eid"},entrysubtype:{type:"f_literal",biblatex:"entrysubtype"},eprint:{type:"f_verbatim",biblatex:"eprint"},eprintclass:{type:"f_literal",biblatex:"eprintclass"},eprinttype:{type:"f_literal",biblatex:"eprinttype"},eventdate:{type:"f_date",biblatex:"eventdate",csl:"event-date"},eventtitle:{type:"f_title",biblatex:"eventtitle",csl:"event"},file:{type:"f_verbatim",biblatex:"file"},foreword:{type:"l_name",biblatex:"foreword"},holder:{type:"l_name",biblatex:"holder"},howpublished:{type:"f_literal",biblatex:"howpublished",csl:"medium"},indextitle:{type:"f_literal",biblatex:"indextitle"},institution:{type:"l_literal",biblatex:"institution"},introduction:{type:"l_name",biblatex:"introduction"},isan:{type:"f_literal",biblatex:"isan"},isbn:{type:"f_literal",biblatex:"isbn",csl:"ISBN"},ismn:{type:"f_literal",biblatex:"ismn"},isrn:{type:"f_literal",biblatex:"isrn"},issn:{type:"f_literal",biblatex:"issn",csl:"ISSN"},issue:{type:"f_literal",biblatex:"issue",csl:"issue"},issuesubtitle:{type:"f_literal",biblatex:"issuesubtitle"},issuetitle:{type:"f_literal",biblatex:"issuetitle"},iswc:{type:"f_literal",biblatex:"iswc"},journalsubtitle:{type:"f_literal",biblatex:"journalsubtitle"},journaltitle:{type:"f_literal",biblatex:"journaltitle",csl:"container-title"},keywords:{type:"l_tag",biblatex:"keywords"},label:{type:"f_literal",biblatex:"label"},language:{type:"l_key",biblatex:"language",options:jt},langid:{type:"f_key",strict:!0,biblatex:"langid",csl:"language",options:{acadian:{csl:"fr-CA",biblatex:"acadian"},afrikaans:{csl:"af-ZA",biblatex:"afrikaans"},arabic:{csl:"ar",biblatex:"arabic"},basque:{csl:"eu",biblatex:"basque"},bulgarian:{csl:"bg-BG",biblatex:"bulgarian"},catalan:{csl:"ca-AD",biblatex:"catalan"},chinese:{csl:"zh-CN",biblatex:"pinyin"},croatian:{csl:"hr-HR",biblatex:"croatian"},czech:{csl:"cs-CZ",biblatex:"czech"},danish:{csl:"da-DK",biblatex:"danish"},dutch:{csl:"nl-NL",biblatex:"dutch"},auenglish:{csl:"en-GB",biblatex:"australian"},caenglish:{csl:"en-US",biblatex:"canadian"},nzenglish:{csl:"en-GB",biblatex:"newzealand"},ukenglish:{csl:"en-GB",biblatex:"ukenglish"},usenglish:{csl:"en-US",biblatex:"usenglish"},estonian:{csl:"et-EE",biblatex:"estonian"},finnish:{csl:"fi-FI",biblatex:"finnish"},french:{csl:"fr-FR",biblatex:"french"},cafrench:{csl:"fr-CA",biblatex:"canadien"},german:{csl:"de-DE",biblatex:"ngerman"},atgerman:{csl:"de-AT",biblatex:"naustrian"},greek:{csl:"el-GR",biblatex:"greek"},hebrew:{csl:"he-IL",biblatex:"hebrew"},hungarian:{csl:"hu-HU",biblatex:"hungarian"},icelandic:{csl:"is-IS",biblatex:"icelandic"},italian:{csl:"it-IT",biblatex:"italian"},japanese:{csl:"ja-JP",biblatex:"japanese"},latin:{csl:"la",biblatex:"latin"},latvian:{csl:"lv-LV",biblatex:"latvian"},lithuanian:{csl:"lt-LT",biblatex:"lithuanian"},magyar:{csl:"hu-HU",biblatex:"magyar"},mongolian:{csl:"mn-MN",biblatex:"mongolian"},norwegian:{csl:"nb-NO",biblatex:"norsk"},newnorwegian:{csl:"nn-NO",biblatex:"nynorsk"},farsi:{csl:"fa-IR",biblatex:"farsi"},polish:{csl:"pl-PL",biblatex:"polish"},portuguese:{csl:"pt-PT",biblatex:"portuguese"},brportuguese:{csl:"pt-BR",biblatex:"brazilian"},romanian:{csl:"ro-RO",biblatex:"romanian"},russian:{csl:"ru-RU",biblatex:"russian"},serbian:{csl:"sr-RS",biblatex:"serbian"},cyrillicserbian:{csl:"sr-RS",biblatex:"serbianc"},slovak:{csl:"sk-SK",biblatex:"slovak"},slovene:{csl:"sl-SL",biblatex:"slovene"},spanish:{csl:"es-ES",biblatex:"spanish"},swedish:{csl:"sv-SE",biblatex:"swedish"},thai:{csl:"th-TH",biblatex:"thai"},turkish:{csl:"tr-TR",biblatex:"turkish"},ukrainian:{csl:"uk-UA",biblatex:"ukrainian"},vietnamese:{csl:"vi-VN",biblatex:"vietnamese"}}},library:{type:"f_literal",biblatex:"library"},location:{type:"l_literal",biblatex:"location",csl:"publisher-place"},mainsubtitle:{type:"f_title",biblatex:"mainsubtitle"},maintitle:{type:"f_title",biblatex:"maintitle"},maintitleaddon:{type:"f_title",biblatex:"maintitleaddon"},nameaddon:{type:"f_literal",biblatex:"nameaddon"},note:{type:"f_literal",biblatex:"note",csl:"note"},number:{type:"f_literal",biblatex:"number",csl:"number"},organization:{type:"l_literal",biblatex:"organization"},origdate:{type:"f_date",biblatex:"origdate",csl:"original-date"},origlanguage:{type:"f_key",biblatex:"origlanguage",options:jt},origlocation:{type:"l_literal",biblatex:"origlocation",csl:"original-publisher-place"},origpublisher:{type:"l_literal",biblatex:"origpublisher",csl:"original-publisher"},origtitle:{type:"f_title",biblatex:"origtitle",csl:"original-title"},pages:{type:"l_range",biblatex:"pages",csl:"page"},pagetotal:{type:"f_literal",biblatex:"pagetotal",csl:"number-of-pages"},pagination:{type:"f_key",biblatex:"pagination",options:["page","column","section","paragraph","verse","line"]},part:{type:"f_literal",biblatex:"part"},publisher:{type:"l_literal",biblatex:"publisher",csl:"publisher"},pubstate:{type:"f_key",biblatex:"pubstate",csl:"status",options:{inpreparation:{csl:"in preparation",biblatex:"inpreparation"},submitted:{csl:"submitted",biblatex:"submitted"},forthcoming:{csl:"forthcoming",biblatex:"forthcoming"},inpress:{csl:"in press",biblatex:"inpress"},prepublished:{csl:"prepublished",biblatex:"prepublished"}}},reprinttitle:{type:"f_literal",biblatex:"reprinttitle"},series:{type:"f_literal",biblatex:"series",csl:"collection-title"},shortauthor:{type:"l_name",biblatex:"shortauthor"},shorteditor:{type:"l_name",biblatex:"shorteditor"},shorthand:{type:"f_literal",biblatex:"shorthand"},shorthandintro:{type:"f_literal",biblatex:"shorthandintro"},shortjournal:{type:"f_literal",biblatex:"shortjournal",csl:"container-title-short"},shortseries:{type:"f_literal",biblatex:"shortseries"},shorttitle:{type:"f_literal",biblatex:"shorttitle",csl:"title-short"},subtitle:{type:"f_title",biblatex:"subtitle"},title:{type:"f_title",biblatex:"title",csl:"title"},titleaddon:{type:"f_title",biblatex:"titleaddon"},translator:{type:"l_name",biblatex:"translator",csl:"translator"},type:{type:"f_key",biblatex:"type",options:["manual","patent","report","thesis","mathesis","phdthesis","candthesis","techreport","resreport","software","datacd","audiocd"]},url:{type:"f_uri",biblatex:"url",csl:"URL"},urldate:{type:"f_date",biblatex:"urldate",csl:"accessed"},venue:{type:"f_literal",biblatex:"venue",csl:"event-place"},version:{type:"f_literal",biblatex:"version",csl:"version"},volume:{type:"f_literal",biblatex:"volume",csl:"volume"},volumes:{type:"f_literal",biblatex:"volumes",csl:"number-of-volumes"}},Et={article:{order:1,biblatex:"article",csl:"article",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-magazine":{order:2,biblatex:"article",csl:"article-magazine",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-newspaper":{order:3,biblatex:"article",csl:"article-newspaper",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-journal":{order:4,biblatex:"article",csl:"article-journal",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"post-weblog":{order:5,biblatex:"online",csl:"post-weblog",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},book:{order:10,biblatex:"book",csl:"book",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvbook:{order:11,biblatex:"mvbook",csl:"book",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},inbook:{order:12,biblatex:"inbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},bookinbook:{order:13,biblatex:"bookinbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},suppbook:{order:14,biblatex:"suppbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},booklet:{order:15,biblatex:"booklet",csl:"pamphlet",required:["title","date"],eitheror:["editor","author"],optional:["abstract","titleaddon","addendum","pages","pagination","howpublished","type","pubstate","chapter","doi","subtitle","language","langid","location","url","urldate","pagetotal","bookpagination","note","eprint","eprintclass","eprinttype","annotation","keywords"]},collection:{order:20,biblatex:"collection",csl:"dataset",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvcollection:{order:21,biblatex:"mvcollection",csl:"dataset",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},incollection:{order:22,biblatex:"incollection",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},suppcollection:{order:23,biblatex:"suppcollection",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},post:{order:30,biblatex:"online",csl:"post",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},manual:{order:40,biblatex:"manual",csl:"book",required:["title","date"],eitheror:["editor","author"],optional:["abstract","addendum","chapter","doi","edition","eprint","eprintclass","eprinttype","isbn","language","langid","location","note","number","organization","pages","pagination","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","type","url","urldate","version","annotation","keywords"]},misc:{order:41,biblatex:"misc",csl:"entry",required:["title","date"],eitheror:["editor","author"],optional:["abstract","addendum","howpublished","type","pubstate","organization","doi","subtitle","language","langid","location","url","urldate","titleaddon","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},online:{order:42,biblatex:"online",csl:"webpage",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},patent:{order:43,biblatex:"patent",csl:"patent",required:["title","number","author","date"],eitheror:[],optional:["abstract","addendum","holder","location","pubstate","doi","subtitle","titleaddon","type","url","urldate","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},periodical:{order:50,biblatex:"periodical",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","volume","pubstate","number","series","issn","issue","issuesubtitle","issuetitle","doi","subtitle","editora","editorb","editorc","url","urldate","language","langid","note","eprint","eprintclass","eprinttype","annotation","keywords"]},suppperiodical:{order:51,biblatex:"suppperiodical",csl:"entry",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},proceedings:{order:60,biblatex:"proceedings",csl:"entry",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","chapter","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","organization","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volume","volumes","annotation","keywords"]},mvproceedings:{order:61,biblatex:"mvproceedings",csl:"entry",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","note","number","organization","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volumes","annotation","keywords"]},inproceedings:{order:62,biblatex:"inproceedings",csl:"paper-conference",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","booksubtitle","booktitleaddon","chapter","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","organization","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volume","volumes","annotation","keywords"]},reference:{order:70,biblatex:"book",csl:"reference",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvreference:{order:71,biblatex:"mvreference",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},inreference:{order:72,biblatex:"inreference",csl:"entry",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},"entry-encyclopedia":{order:73,biblatex:"inreference",csl:"entry-encyclopedia",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},"entry-dictionary":{order:74,biblatex:"inreference",csl:"entry-dictionary",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},report:{order:80,biblatex:"report",csl:"report",required:["author","title","type","institution","date"],eitheror:[],optional:["abstract","addendum","pages","pagination","pagetotal","bookpagination","pubstate","number","isrn","chapter","doi","subtitle","language","langid","location","url","urldate","titleaddon","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},thesis:{order:81,biblatex:"thesis",csl:"thesis",required:["author","title","type","institution","date"],eitheror:[],optional:["abstract","addendum","pages","pagination","pagetotal","bookpagination","pubstate","isbn","chapter","doi","subtitle","language","langid","location","url","urldate","titleaddon","note","eprint","eprintclass","eprinttype","annotation","keywords"]},unpublished:{order:90,biblatex:"unpublished",csl:"manuscript",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","howpublished","pubstate","isbn","date","subtitle","language","langid","location","url","urldate","titleaddon","note","annotation","keywords"]}},zt={strong:{open:"\\mkbibbold{",close:"}"},em:{open:"\\mkbibitalic{",close:"}"},smallcaps:{open:"\\textsc{",close:"}"},enquote:{open:"\\enquote{",close:"}"},nocase:{open:"{{",close:"}}"},sub:{open:"_{",close:"}"},sup:{open:"^{",close:"}"},math:{open:"$",close:"$"},url:{open:"\\url{",close:"}",verbatim:!0}},qt=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ct(this,e),this.bibDB=t,this.pks=i||pt(t),this.config=a,this.warnings=[]}return kt(e,[{key:"_reformKey",value:function(e,t){if("string"==typeof e){var i=Ot[t];return Array.isArray(i.options)?this._escapeTeX(e):this._escapeTeX(i.options[e].biblatex)}return this._reformText(e)}},{key:"_reformRange",value:function(e){var t=this;return e.map(function(e){return e.map(function(e){return t._reformText(e)}).join("--")}).join(",")}},{key:"_reformName",value:function(e){var t=this,i=[];return e.forEach(function(e){if(e.literal){var a=t._reformText(e.literal);a.length&&i.push("{"+a+"}")}else{var r=e.family?t._reformText(e.family):"",o=e.given?t._reformText(e.given):"",n=!!e.suffix&&t._reformText(e.suffix),l=!!e.prefix&&t._reformText(e.prefix);!!e.useprefix&&e.useprefix;if(t.config.traditionalNames)n&&l?i.push("{"+l+" "+r+"}, {"+n+"}, {"+o+"}"):n?i.push("{"+r+"}, {"+n+"}, {"+o+"}"):l?i.push("{"+l+" "+r+"}, {"+o+"}"):i.push("{"+r+"}, {"+o+"}");else{var s=[];o.length&&s.push(t._protectNamePart("given={"+o+"}")),r.length&&s.push(t._protectNamePart("family={"+r+"}")),n&&s.push(t._protectNamePart("suffix={"+n+"}")),l&&(s.push(t._protectNamePart("prefix={"+l+"}")),s.push("useprefix="+e.useprefix)),i.push(s.join(", "))}}}),i.join(" and ")}},{key:"_protectNamePart",value:function(e){return e.includes(",")?'"'+e+'"':e}},{key:"_escapeTeX",value:function(e){if("string"!=typeof e)return!1;for(var t=wt.length,i=0;i<t;i++)e=e.replace(wt[i][0],wt[i][1]);return e}},{key:"_reformText",value:function(e){var t=this,i="",a=[];return e.concat({type:"text",text:""}).forEach(function(e){if("variable"===e.type)return i+="} # "+e.attrs.variable+" # {",void t.warnings.push({type:"undefined_variable",variable:e.attrs.variable});var r=[];if(e.marks){var o=!1;e.marks.forEach(function(e){"sup"!==e.type&&"sub"!==e.type||o?"nocase"===e.type?r.unshift(e.type):r.push(e.type):(r.push("math"),r.push(e.type),o=!0)})}var n=!1,l=[];a.forEach(function(e,t){if(e!=r[t]&&(n=!0),n){var i=zt[e].close;"nocase"!==a[0]&&"\\"===zt[e].open[0]&&(i+="}"),l.push(i)}}),l.reverse(),i+=l.join("");var s=!1,u=!1;r.forEach(function(e,t){e!=a[t]&&(s=!0),s&&("nocase"!==r[0]&&"\\"===zt[e].open[0]&&(i+="{"),i+=zt[e].open,zt[e].verbatim&&(u=!0))}),i+=u?e.text:t._escapeTeX(e.text),a=r}),i}},{key:"_getBibtexString",value:function(e){for(var t=e.length,i="",a=0;a<t;a++){0<a&&(i+="\n\n");var r=e[a];i+="@"+r.type+"{"+r.key;for(var o in r.values)i+=",\n"+o+" = "+("{"+r.values[o]+"}").replace(/\{\} \# /g,"").replace(/\# \{\}/g,"");i+="\n}"}return i}},{key:"output",get:function(){var e=this;return this.bibtexArray=[],this.bibtexStr="",this.pks.forEach(function(t){var i=e.bibDB[t],a={type:Et[i.bib_type].biblatex,key:i.entry_key.length?i.entry_key:"Undefined"},r={};for(var o in i.fields){(function(t){if(!Ot[t])return"continue";var a=i.fields[t],o=Ot[t].type,n=Ot[t].biblatex;switch(o){case"f_date":r[n]=a;break;case"f_integer":r[n]=e._reformText(a);break;case"f_key":r[n]=e._reformKey(a,t);break;case"f_literal":case"f_long_literal":r[n]=e._reformText(a);break;case"l_range":r[n]=e._reformRange(a);break;case"f_title":r[n]=e._reformText(a);break;case"f_uri":case"f_verbatim":r[n]=a.replace(/{|}/g,"");break;case"l_key":r[n]=e._escapeTeX(a.map(function(i){return e._reformKey(i,t)}).join(" and "));break;case"l_literal":r[n]=a.map(function(t){return e._reformText(t)}).join(" and ");break;case"l_name":r[n]=e._reformName(a);break;case"l_tag":r[n]=e._escapeTeX(a.join(", "));break;default:console.warn("Unrecognized type: "+o+"!")}})(o)}a.values=r,e.bibtexArray[e.bibtexArray.length]=a}),this.bibtexStr=this._getBibtexString(this.bibtexArray),this.bibtexStr}}]),e}();i.BibLatexExporter=qt}();
